<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="alternate icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9IiMzNDk4ZGIiIHN0cm9rZT0iIzJjM2U1MCIgc3Ryb2tlLXdpZHRoPSIyIi8+PGcgZmlsbD0id2hpdGUiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiPjx0ZXh0IHg9IjE2IiB5PSIxMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMiI+ZDwvdGV4dD48bGluZSB4MT0iOCIgeTE9IjE2IiB4Mj0iMjQiIHkyPSIxNiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNiIgeT0iMjUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTAiPmR4PC90ZXh0PjwvZz48L3N2Zz4=">
    <title>1.10 闭区间上连续函数的性质 - 高等数学复习</title>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']]
            },
            chtml: {
                fontURL: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 50%, #e74c3c 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            margin-bottom: 20px;
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .back-link:hover {
            color: #2980b9;
            transform: translateX(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }
        
        .back-link::before {
            content: '←';
            margin-right: 8px;
            font-size: 1.2em;
        }
        
        header {
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5em;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: 300;
        }
        
        .subtitle {
            font-size: 1.1em;
            margin-top: 10px;
            opacity: 0.9;
        }
        
        .content-section {
            background: white;
            margin: 25px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .content-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .section-header {
            padding: 20px 30px;
            background: linear-gradient(45deg, #34495e, #2c3e50);
            color: white;
        }
        
        .section-header h2 {
            margin: 0;
            font-size: 1.6em;
            font-weight: 400;
        }
        
        .section-content {
            padding: 30px;
        }
        
        .definition {
            background: linear-gradient(135deg, #ecf0f1, #d5dbdb);
            border-left: 5px solid #34495e;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(52, 73, 94, 0.1);
        }
        
        .definition h4 {
            margin: 0 0 15px 0;
            color: #34495e;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .theorem {
            background: linear-gradient(135deg, #fadbd8, #f1948a);
            border-left: 5px solid #e74c3c;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(231, 76, 60, 0.1);
        }
        
        .theorem h4 {
            margin: 0 0 15px 0;
            color: #c0392b;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .example {
            background: linear-gradient(135deg, #d5f4e6, #82e0aa);
            border-left: 5px solid #27ae60;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(39, 174, 96, 0.1);
        }
        
        .example h4 {
            margin: 0 0 15px 0;
            color: #1e8449;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .practice-problem {
            background: linear-gradient(135deg, #fdeaa7, #f7dc6f);
            border-left: 5px solid #f1c40f;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(241, 196, 15, 0.1);
        }
        
        .practice-problem h4 {
            margin: 0 0 15px 0;
            color: #d68910;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .difficulty {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 500;
            margin-left: 10px;
        }
        
        .difficulty.medium {
            background: #f39c12;
            color: white;
        }
        
        .difficulty.hard {
            background: #e74c3c;
            color: white;
        }
        
        .difficulty.very-hard {
            background: #8e44ad;
            color: white;
        }
        
        .solution {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #bdc3c7;
        }
        
        .solution-header {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .viz-container {
            width: 100%;
            height: 400px;
            margin: 25px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .interactive-demo {
            width: 100%;
            height: auto;
            min-height: 500px;
            margin: 25px 0;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            padding: 20px;
            position: relative;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .controls label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #e74c3c;
        }
        
        .controls input, .controls select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            padding: 20px 0;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 25px;
            background: linear-gradient(45deg, #34495e, #2c3e50);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 3px 15px rgba(52, 73, 94, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(52, 73, 94, 0.4);
        }
        
        .btn.prev::before {
            content: '←';
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        .btn.next::after {
            content: '→';
            margin-left: 8px;
            font-size: 1.1em;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 30px 0;
            opacity: 0.9;
            margin-top: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        footer p {
            text-align: center;
            margin: 0;
        }
        
        .math-expression {
            text-align: center;
            margin: 15px 0;
            font-size: 1.1em;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .highlight {
            background: linear-gradient(135deg, #ecf0f1, #d5dbdb);
            padding: 15px;
            border-left: 4px solid #34495e;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }
        
        .properties-cards {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
            justify-content: center;
        }
        
        .property-card {
            display: inline-block !important;
            visibility: visible !important;
            opacity: 1 !important;
            background: #ecf0f1;
            padding: 12px 18px;
            margin: 5px;
            border-radius: 20px;
            border: 2px solid #34495e;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 500;
            transform: scale(1) !important;
        }
        
        .property-card:hover {
            background: #34495e;
            color: white;
            transform: scale(1.05) !important;
            box-shadow: 0 5px 15px rgba(52, 73, 94, 0.3);
        }
        
        .extrema-demo {
            width: 100%;
            height: 450px;
            margin: 25px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        /* AI提示方块样式 */
        .ai-warning {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 2px solid #e0e0e0;
        }
        
        .ai-warning:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            border-color: #ff4444;
        }
        
        .ai-warning::before {
            content: '!';
            color: #e74c3c;
            font-size: 20px;
            font-weight: bold;
            font-family: Arial, sans-serif;
        }
        
        .ai-warning-tooltip {
            position: absolute;
            top: 50px;
            left: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 16px 20px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.5;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1001;
            width: 250px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .ai-warning-tooltip::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(0, 0, 0, 0.9);
        }
        
        .ai-warning:hover .ai-warning-tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .section-content {
                padding: 20px;
            }
            
            .definition, .theorem, .example, .practice-problem {
                padding: 20px;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }

            .ai-warning {
                width: 35px;
                height: 35px;
                top: 15px;
                left: 15px;
            }
            
            .ai-warning::before {
                font-size: 18px;
            }
            
            .ai-warning-tooltip {
                width: 280px;
                font-size: 13px;
                padding: 14px 18px;
            }
        }
    </style>
</head>
<body>
    <!-- AI内容提示 -->
    <div class="ai-warning">
        <div class="ai-warning-tooltip">
            页面内容由AI生成，请谨慎对待。<br>如发现错误，欢迎反馈。
        </div>
    </div>
    
    <div class="container">
        <a href="../index.html" class="back-link">返回章节概览</a>
        
        <header>
            <h1>1.10 闭区间上连续函数的性质</h1>
            <div class="subtitle">Properties of Continuous Functions on Closed Intervals</div>
        </header>
        
        <!-- 1.10.1 函数的有界性，函数的最大值、最小值定理 -->
        <div class="content-section">
            <div class="section-header">
                <h2>1.10.1 函数的有界性，函数的最大值、最小值定理</h2>
            </div>
            <div class="section-content">
                <div class="theorem">
                    <h4>定理1：有界性定理（魏尔斯特拉斯第一定理）</h4>
                    <p>若函数 $f(x)$ 在闭区间 $[a,b]$ 上连续，则 $f(x)$ 在 $[a,b]$ 上必定有界。</p>
                    
                    <div class="math-expression">
                        $$\exists M > 0, \forall x \in [a,b]: |f(x)| \leq M$$
                    </div>
                    
                    <div class="highlight">
                        <strong>几何意义：</strong>闭区间上的连续函数图像必定能被包含在某个水平带状区域内。
                    </div>
                    
                    <p><strong>注意：</strong></p>
                    <ul>
                        <li>定理条件中的"闭区间"和"连续"缺一不可</li>
                        <li>开区间上的连续函数不一定有界（如 $f(x) = \frac{1}{x}$ 在 $(0,1)$ 上）</li>
                        <li>闭区间上的不连续函数不一定有界（如 $f(x) = \frac{1}{x-c}$ 在包含 $c$ 的闭区间上）</li>
                    </ul>
                </div>
                
                <div class="theorem">
                    <h4>定理2：最大值最小值定理（魏尔斯特拉斯第二定理）</h4>
                    <p>若函数 $f(x)$ 在闭区间 $[a,b]$ 上连续，则 $f(x)$ 在 $[a,b]$ 上必定能取得最大值和最小值。</p>
                    
                    <div class="properties-cards">
                        <div class="property-card">存在最大值点</div>
                        <div class="property-card">存在最小值点</div>
                        <div class="property-card">最值必被取到</div>
                        <div class="property-card">最值唯一确定</div>
                    </div>
                    
                    <p><strong>数学表述：</strong></p>
                    <div class="math-expression">
                        $$\exists \xi_1, \xi_2 \in [a,b]: f(\xi_1) = \max_{x \in [a,b]} f(x), \quad f(\xi_2) = \min_{x \in [a,b]} f(x)$$
                    </div>
                    
                    <div class="highlight">
                        <p><strong>重要结论：</strong></p>
                        <ul>
                            <li>最大值 $M = f(\xi_1)$，最小值 $m = f(\xi_2)$</li>
                            <li>对于任意 $x \in [a,b]$，有 $m \leq f(x) \leq M$</li>
                            <li>函数的值域为 $[m, M]$</li>
                        </ul>
                    </div>
                </div>
                
                <div class="interactive-demo" id="extrema-demo">
                    <div class="controls">
                        <div class="control-group">
                            <label for="function-select">选择函数：</label>
                            <select id="function-select">
                                <option value="quadratic">二次函数 x² - 2x + 1</option>
                                <option value="cubic">三次函数 x³ - 3x² + 2</option>
                                <option value="sin">三角函数 sin(2x) + 0.5x</option>
                                <option value="exp">指数函数 e^(-x²)</option>
                                <option value="rational">有理函数 1/(x² + 1)</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="interval-start">区间起点 a：</label>
                            <input type="range" id="interval-start" min="-3" max="1" step="0.1" value="-2">
                            <span id="start-value">-2</span>
                        </div>
                        
                        <div class="control-group">
                            <label for="interval-end">区间终点 b：</label>
                            <input type="range" id="interval-end" min="0" max="4" step="0.1" value="2">
                            <span id="end-value">2</span>
                        </div>
                        
                        <div class="control-group">
                            <div style="margin-top: 10px; padding: 10px; background: #f0f0f0; border-radius: 5px;">
                                <strong>最值信息：</strong>
                                <div id="extrema-info">请调整参数查看最值</div>
                            </div>
                        </div>
                    </div>
                    <div id="extrema-plot"></div>
                </div>
                
                <div class="example">
                    <h4>例1：验证最大值最小值定理</h4>
                    <p>求函数 $f(x) = x^3 - 3x^2 + 2$ 在区间 $[0, 3]$ 上的最大值和最小值。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>第一步：求导数</strong></p>
                        <p>$f'(x) = 3x^2 - 6x = 3x(x - 2)$</p>
                        
                        <p><strong>第二步：求临界点</strong></p>
                        <p>令 $f'(x) = 0$，得 $x = 0$ 或 $x = 2$</p>
                        <p>在区间 $[0, 3]$ 内的临界点为 $x = 0, 2$</p>
                        
                        <p><strong>第三步：计算函数值</strong></p>
                        <ul>
                            <li>$f(0) = 0^3 - 3 \cdot 0^2 + 2 = 2$</li>
                            <li>$f(2) = 2^3 - 3 \cdot 2^2 + 2 = 8 - 12 + 2 = -2$</li>
                            <li>$f(3) = 3^3 - 3 \cdot 3^2 + 2 = 27 - 27 + 2 = 2$</li>
                        </ul>
                        
                        <p><strong>第四步：确定最值</strong></p>
                        <p>比较函数值：$f(0) = f(3) = 2$，$f(2) = -2$</p>
                        <p>因此，<strong>最大值</strong>为 $2$（在 $x = 0$ 和 $x = 3$ 处取得）</p>
                        <p><strong>最小值</strong>为 $-2$（在 $x = 2$ 处取得）</p>
                    </div>
                </div>
                
                <div class="example">
                    <h4>例2：分段函数的最值</h4>
                    <p>求函数 $f(x) = \begin{cases}
                    x^2 & 0 \leq x \leq 1 \\
                    2-x & 1 < x \leq 2
                    \end{cases}$ 在区间 $[0, 2]$ 上的最大值和最小值。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>第一步：检查连续性</strong></p>
                        <p>在 $x = 1$ 处：</p>
                        <ul>
                            <li>左极限：$\lim_{x \to 1^-} f(x) = 1^2 = 1$</li>
                            <li>右极限：$\lim_{x \to 1^+} f(x) = 2 - 1 = 1$</li>
                            <li>函数值：$f(1) = 1^2 = 1$</li>
                        </ul>
                        <p>因此函数在 $[0, 2]$ 上连续。</p>
                        
                        <p><strong>第二步：分别求各段的最值</strong></p>
                        <p><strong>在 $[0, 1]$ 上：</strong>$f(x) = x^2$</p>
                        <ul>
                            <li>$f'(x) = 2x \geq 0$ 在 $[0, 1]$ 上，所以单调递增</li>
                            <li>最小值：$f(0) = 0$</li>
                            <li>最大值：$f(1) = 1$</li>
                        </ul>
                        
                        <p><strong>在 $(1, 2]$ 上：</strong>$f(x) = 2 - x$</p>
                        <ul>
                            <li>$f'(x) = -1 < 0$，所以单调递减</li>
                            <li>在 $x = 1^+$ 处：$f(1^+) = 1$</li>
                            <li>在 $x = 2$ 处：$f(2) = 2 - 2 = 0$</li>
                        </ul>
                        
                        <p><strong>第三步：总结</strong></p>
                        <p>在整个区间 $[0, 2]$ 上：</p>
                        <ul>
                            <li><strong>最大值</strong>为 $1$（在 $x = 1$ 处取得）</li>
                            <li><strong>最小值</strong>为 $0$（在 $x = 0$ 和 $x = 2$ 处取得）</li>
                        </ul>
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题1 <span class="difficulty medium">中等难度</span></h4>
                    <p>设 $f(x) = x + \frac{1}{x}$ 在区间 $[\frac{1}{2}, 3]$ 上，求其最大值和最小值。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>第一步：确定函数连续性</strong></p>
                        <p>$f(x) = x + \frac{1}{x}$ 在 $[\frac{1}{2}, 3]$ 上连续（因为 $x > 0$）</p>
                        
                        <p><strong>第二步：求导数</strong></p>
                        <p>$f'(x) = 1 - \frac{1}{x^2}$</p>
                        
                        <p><strong>第三步：求临界点</strong></p>
                        <p>令 $f'(x) = 0$：$1 - \frac{1}{x^2} = 0 \Rightarrow x^2 = 1 \Rightarrow x = 1$（因为 $x > 0$）</p>
                        <p>临界点 $x = 1 \in [\frac{1}{2}, 3]$</p>
                        
                        <p><strong>第四步：计算函数值</strong></p>
                        <ul>
                            <li>$f(\frac{1}{2}) = \frac{1}{2} + \frac{1}{\frac{1}{2}} = \frac{1}{2} + 2 = \frac{5}{2} = 2.5$</li>
                            <li>$f(1) = 1 + \frac{1}{1} = 2$</li>
                            <li>$f(3) = 3 + \frac{1}{3} = \frac{10}{3} \approx 3.33$</li>
                        </ul>
                        
                        <p><strong>第五步：确定最值</strong></p>
                        <p>比较得：$f(1) = 2 < f(\frac{1}{2}) = 2.5 < f(3) = \frac{10}{3}$</p>
                        <ul>
                            <li><strong>最小值：</strong>$2$（在 $x = 1$ 处取得）</li>
                            <li><strong>最大值：</strong>$\frac{10}{3}$（在 $x = 3$ 处取得）</li>
                        </ul>
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题2 <span class="difficulty hard">较难</span></h4>
                    <p>设 $f(x) = x^4 - 4x^3 + 6x^2 - 4x + 1$ 在区间 $[0, 2]$ 上。证明 $f(x)$ 存在最小值，并求出该最小值。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>第一步：证明最小值存在性</strong></p>
                        <p>$f(x)$ 是多项式函数，在 $[0, 2]$ 上连续</p>
                        <p>根据最大值最小值定理，$f(x)$ 在 $[0, 2]$ 上必存在最大值和最小值。</p>
                        
                        <p><strong>第二步：观察函数结构</strong></p>
                        <p>注意到 $f(x) = x^4 - 4x^3 + 6x^2 - 4x + 1 = (x-1)^4$</p>
                        <p>（这可以通过二项式定理验证）</p>
                        
                        <p><strong>第三步：分析函数性质</strong></p>
                        <p>由于 $f(x) = (x-1)^4 \geq 0$ 对所有实数 $x$ 成立</p>
                        <p>且 $f(x) = 0$ 当且仅当 $x = 1$</p>
                        
                        <p><strong>第四步：求最值</strong></p>
                        <p>在区间 $[0, 2]$ 上：</p>
                        <ul>
                            <li>当 $x = 1$ 时，$f(1) = (1-1)^4 = 0$</li>
                            <li>当 $x \neq 1$ 时，$f(x) = (x-1)^4 > 0$</li>
                        </ul>
                        
                        <p><strong>结论：</strong></p>
                        <p>函数 $f(x)$ 在区间 $[0, 2]$ 上的<strong>最小值为 $0$</strong>，在 $x = 1$ 处取得。</p>
                        
                        <p>边界点的函数值：</p>
                        <ul>
                            <li>$f(0) = (0-1)^4 = 1$</li>
                            <li>$f(2) = (2-1)^4 = 1$</li>
                        </ul>
                        <p>所以最大值为 $1$（在 $x = 0$ 和 $x = 2$ 处取得）。</p>
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题3 <span class="difficulty very-hard">很难</span></h4>
                    <p>设 $f(x)$ 在 $[a, b]$ 上连续，且对任意 $x \in [a, b]$ 都有 $f(x) > 0$。证明：存在常数 $m > 0$，使得对任意 $x \in [a, b]$ 都有 $f(x) \geq m$。</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        <p><strong>证明思路：</strong>利用闭区间上连续函数的最小值定理。</p>
                        
                        <p><strong>第一步：应用最小值定理</strong></p>
                        <p>由于 $f(x)$ 在闭区间 $[a, b]$ 上连续，</p>
                        <p>根据魏尔斯特拉斯第二定理，$f(x)$ 在 $[a, b]$ 上必定能取得最小值。</p>
                        <p>设这个最小值为 $m$，即存在 $x_0 \in [a, b]$ 使得 $f(x_0) = m$。</p>
                        
                        <p><strong>第二步：证明 $m > 0$</strong></p>
                        <p>由于对任意 $x \in [a, b]$ 都有 $f(x) > 0$，</p>
                        <p>特别地，$f(x_0) > 0$，即 $m = f(x_0) > 0$。</p>
                        
                        <p><strong>第三步：证明不等式</strong></p>
                        <p>由于 $m$ 是 $f(x)$ 在 $[a, b]$ 上的最小值，</p>
                        <p>对任意 $x \in [a, b]$ 都有 $f(x) \geq m$。</p>
                        
                        <p><strong>结论：</strong></p>
                        <p>取 $m = \min_{x \in [a,b]} f(x) > 0$，</p>
                        <p>则对任意 $x \in [a, b]$ 都有 $f(x) \geq m > 0$。$\square$</p>
                        
                        <div class="highlight">
                            <p><strong>几何意义：</strong>这个定理说明闭区间上的正连续函数有正的下界，即函数图像不会"任意接近"$x$轴。</p>
                            <p><strong>应用：</strong>这个结果常用于证明倒数函数 $\frac{1}{f(x)}$ 在闭区间上有界的情况。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 1.10.2 零点定理，介值定理 -->
        <div class="content-section">
            <div class="section-header">
                <h2>1.10.2 零点定理，介值定理</h2>
            </div>
            <div class="section-content">
                <div class="theorem">
                    <h4>零点定理（根的存在定理）</h4>
                    <p><strong>定理：</strong>设 $f(x)$ 在闭区间 $[a, b]$ 上连续，且 $f(a) \cdot f(b) < 0$（即 $f(a)$ 和 $f(b)$ 异号），则在开区间 $(a, b)$ 内至少存在一点 $c$，使得 $f(c) = 0$。</p>
                    
                    <p><strong>证明：</strong></p>
                    <p>不失一般性，假设 $f(a) < 0 < f(b)$。</p>
                    <p>构造集合 $S = \{x \in [a, b] : f(x) < 0\}$</p>
                    <p>显然 $a \in S$，且 $S$ 有上界 $b$，由确界原理，$S$ 有上确界，记为 $c = \sup S$。</p>
                    <p>显然 $a \leq c \leq b$。下面证明 $f(c) = 0$。</p>
                    <p>反证法：若 $f(c) \neq 0$，则 $f(c) > 0$ 或 $f(c) < 0$。</p>
                    <ul>
                        <li>若 $f(c) > 0$，由连续性，存在 $\delta > 0$ 使得当 $|x - c| < \delta$ 时，$f(x) > 0$。这与 $c$ 是 $S$ 的上确界矛盾。</li>
                        <li>若 $f(c) < 0$，由连续性，存在 $\delta > 0$ 使得当 $|x - c| < \delta$ 时，$f(x) < 0$。这也与 $c$ 是 $S$ 的上确界矛盾。</li>
                    </ul>
                    <p>因此 $f(c) = 0$。 $\square$</p>
                </div>

                <div class="theorem">
                    <h4>介值定理（中间值定理）</h4>
                    <p><strong>定理：</strong>设 $f(x)$ 在闭区间 $[a, b]$ 上连续，且 $f(a) \neq f(b)$。若 $k$ 是介于 $f(a)$ 和 $f(b)$ 之间的任一实数（即 $f(a) < k < f(b)$ 或 $f(b) < k < f(a)$），则在开区间 $(a, b)$ 内至少存在一点 $c$，使得 $f(c) = k$。</p>
                    
                    <p><strong>证明：</strong></p>
                    <p>构造辅助函数 $g(x) = f(x) - k$。</p>
                    <p>显然 $g(x)$ 在 $[a, b]$ 上连续。</p>
                    <p>不失一般性，设 $f(a) < k < f(b)$，则：</p>
                    <ul>
                        <li>$g(a) = f(a) - k < 0$</li>
                        <li>$g(b) = f(b) - k > 0$</li>
                    </ul>
                    <p>即 $g(a) \cdot g(b) < 0$，由零点定理，存在 $c \in (a, b)$ 使得 $g(c) = 0$，即 $f(c) = k$。 $\square$</p>
                </div>

                <div class="highlight">
                    <p><strong>几何意义：</strong></p>
                    <ul>
                        <li><strong>零点定理：</strong>连续曲线从 $x$ 轴一侧到另一侧必穿过 $x$ 轴</li>
                        <li><strong>介值定理：</strong>连续函数能取遍其值域内的每一个值</li>
                    </ul>
                </div>

                <div class="properties-cards">
                    <div class="property-card">零点定理是介值定理的特例（$k=0$）</div>
                    <div class="property-card">连续性是定理成立的关键条件</div>
                    <div class="property-card">定理保证了根的存在性，但不保证唯一性</div>
                    <div class="property-card">广泛应用于方程求解和不动点理论</div>
                </div>

                <!-- 零点定理可视化演示 -->
                <div class="interactive-demo">
                    <div class="controls">
                        <div class="control-group">
                            <label>选择函数：
                                <select id="zero-function-select">
                                    <option value="polynomial">f(x) = x^3 - 2x - 1</option>
                                    <option value="transcendental">f(x) = e^x + x - 2</option>
                                    <option value="trigonometric">f(x) = sin(x) + x/2 - 1</option>
                                    <option value="rational">f(x) = (x^2-1)/(x^2+1) - 0.3</option>
                                </select>
                            </label>
                        </div>
                        <div class="control-group">
                            <label>区间左端点：
                                <input type="range" id="zero-interval-start" value="-2" step="0.1" min="-5" max="2">
                            </label>
                        </div>
                        <div class="control-group">
                            <label>区间右端点：
                                <input type="range" id="zero-interval-end" value="2" step="0.1" min="-2" max="5">
                            </label>
                        </div>
                    </div>
                    <div id="zero-point-plot" class="viz-container"></div>
                </div>

                <div class="example">
                    <h4>例1：应用零点定理证明方程根的存在性</h4>
                    <p><strong>问题：</strong>证明方程 $x^3 + x - 1 = 0$ 在区间 $(0, 1)$ 内有根。</p>
                    
                    <p><strong>解：</strong></p>
                    <p>令 $f(x) = x^3 + x - 1$，显然 $f(x)$ 在 $[0, 1]$ 上连续。</p>
                    <p>计算端点函数值：</p>
                    <ul>
                        <li>$f(0) = 0^3 + 0 - 1 = -1 < 0$</li>
                        <li>$f(1) = 1^3 + 1 - 1 = 1 > 0$</li>
                    </ul>
                    <p>由于 $f(0) \cdot f(1) = -1 < 0$，即 $f(0)$ 和 $f(1)$ 异号，</p>
                    <p>根据零点定理，在 $(0, 1)$ 内至少存在一点 $c$，使得 $f(c) = 0$。</p>
                    <p>因此，方程 $x^3 + x - 1 = 0$ 在区间 $(0, 1)$ 内有根。</p>
                </div>

                <div class="example">
                    <h4>例2：应用介值定理</h4>
                    <p><strong>问题：</strong>设 $f(x) = x^2$ 在区间 $[1, 3]$ 上。证明存在 $c \in (1, 3)$ 使得 $f(c) = 5$。</p>
                    
                    <p><strong>解：</strong></p>
                    <p>$f(x) = x^2$ 在 $[1, 3]$ 上连续。</p>
                    <p>计算端点函数值：</p>
                    <ul>
                        <li>$f(1) = 1^2 = 1$</li>
                        <li>$f(3) = 3^2 = 9$</li>
                    </ul>
                    <p>由于 $1 < 5 < 9$，即 $f(1) < 5 < f(3)$，</p>
                    <p>根据介值定理，存在 $c \in (1, 3)$ 使得 $f(c) = 5$。</p>
                    <p>事实上，$c = \sqrt{5} \approx 2.236$。</p>
                </div>

                <div class="example">
                    <h4>例3：证明方程解的存在性</h4>
                    <p><strong>问题：</strong>证明方程 $\cos x = x$ 在 $(0, \frac{\pi}{2})$ 内有解。</p>
                    
                    <p><strong>解：</strong></p>
                    <p>令 $f(x) = \cos x - x$，$f(x)$ 在 $[0, \frac{\pi}{2}]$ 上连续。</p>
                    <p>计算端点函数值：</p>
                    <ul>
                        <li>$f(0) = \cos 0 - 0 = 1 > 0$</li>
                        <li>$f(\frac{\pi}{2}) = \cos \frac{\pi}{2} - \frac{\pi}{2} = 0 - \frac{\pi}{2} < 0$</li>
                    </ul>
                    <p>由于 $f(0) \cdot f(\frac{\pi}{2}) < 0$，</p>
                    <p>根据零点定理，存在 $c \in (0, \frac{\pi}{2})$ 使得 $f(c) = 0$，</p>
                    <p>即 $\cos c = c$，所以方程 $\cos x = x$ 在 $(0, \frac{\pi}{2})$ 内有解。</p>
                </div>

                <div class="practice-problem">
                    <h4>习题1 <span class="difficulty medium">中等</span></h4>
                    <p>证明方程 $2x^3 - 3x^2 + 1 = 0$ 在区间 $(0, 1)$ 内至少有一个根。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p>令 $f(x) = 2x^3 - 3x^2 + 1$，$f(x)$ 是多项式函数，在 $[0, 1]$ 上连续。</p>
                        
                        <p>计算端点函数值：</p>
                        <ul>
                            <li>$f(0) = 2(0)^3 - 3(0)^2 + 1 = 1 > 0$</li>
                            <li>$f(1) = 2(1)^3 - 3(1)^2 + 1 = 2 - 3 + 1 = 0$</li>
                        </ul>
                        
                        <p>由于 $f(1) = 0$，所以 $x = 1$ 就是方程的一个根。</p>
                        <p>但题目要求证明在 $(0, 1)$ 内有根，我们需要更仔细地分析。</p>
                        
                        <p>计算 $f'(x) = 6x^2 - 6x = 6x(x-1)$</p>
                        <p>在 $(0, 1)$ 内，$f'(x) < 0$，所以 $f(x)$ 在 $(0, 1)$ 上严格递减。</p>
                        <p>选择接近 $1$ 的点，如 $f(0.9) = 2(0.9)^3 - 3(0.9)^2 + 1 = 1.458 - 2.43 + 1 = 0.028 > 0$</p>
                        
                        <p>由于 $f(0) = 1 > 0$ 而函数在 $(0, 1)$ 上递减趋向于 $f(1) = 0$，</p>
                        <p>更精确的方法是考虑 $f(x) = 0$ 的因式分解：</p>
                        <p>$2x^3 - 3x^2 + 1 = (x-1)(2x^2-x-1) = (x-1)(2x+1)(x-1) = (x-1)^2(2x+1)$</p>
                        <p>所以根为 $x = 1$（二重根）和 $x = -\frac{1}{2}$。</p>
                        <p>因此在 $(0, 1)$ 内实际上没有根，但 $x = 1$ 是边界上的根。</p>
                    </div>
                </div>

                <div class="practice-problem">
                    <h4>习题2 <span class="difficulty hard">较难</span></h4>
                    <p>设 $f(x)$ 在 $[0, 1]$ 上连续，且 $f(0) = f(1)$。证明：对任意正整数 $n$，存在 $c \in [0, 1-\frac{1}{n}]$ 使得 $f(c) = f(c + \frac{1}{n})$。</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        <p>构造辅助函数 $g(x) = f(x + \frac{1}{n}) - f(x)$，其中 $x \in [0, 1-\frac{1}{n}]$。</p>
                        
                        <p>由于 $f(x)$ 在 $[0, 1]$ 上连续，所以 $g(x)$ 在 $[0, 1-\frac{1}{n}]$ 上连续。</p>
                        
                        <p>考虑 $g(x)$ 在等分点处的值：</p>
                        <p>令 $x_k = \frac{k}{n}$，$k = 0, 1, 2, \ldots, n-1$，则：</p>
                        $$g(x_k) = f(x_k + \frac{1}{n}) - f(x_k) = f(\frac{k+1}{n}) - f(\frac{k}{n})$$
                        
                        <p>计算所有这些值的和：</p>
                        $$\sum_{k=0}^{n-1} g(x_k) = \sum_{k=0}^{n-1} [f(\frac{k+1}{n}) - f(\frac{k}{n})] = f(1) - f(0) = 0$$
                        
                        <p>由于这 $n$ 个数的和为 $0$，它们不能全为正数，也不能全为负数。</p>
                        
                        <p>因此，要么存在某个 $k$ 使得 $g(x_k) = 0$（此时 $c = x_k$），</p>
                        <p>要么存在 $k_1, k_2$ 使得 $g(x_{k_1}) \geq 0$ 且 $g(x_{k_2}) \leq 0$。</p>
                        
                        <p>在后一种情况下，由于 $g(x)$ 连续，根据介值定理，</p>
                        <p>存在 $c$ 介于 $x_{k_1}$ 和 $x_{k_2}$ 之间使得 $g(c) = 0$。</p>
                        
                        <p>因此，总存在 $c \in [0, 1-\frac{1}{n}]$ 使得 $g(c) = 0$，即 $f(c) = f(c + \frac{1}{n})$。 $\square$</p>
                        
                        <div class="highlight">
                            <p><strong>几何解释：</strong>这个定理表明周期函数的"平移不变性"在某种意义下对连续函数也部分成立。</p>
                        </div>
                    </div>
                </div>

                <div class="practice-problem">
                    <h4>习题3 <span class="difficulty very-hard">很难</span></h4>
                    <p>设 $f: [0,1] \to [0,1]$ 连续。证明存在 $c \in [0,1]$ 使得 $f(c) = c$（不动点定理）。</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        <p><strong>方法一：直接应用零点定理</strong></p>
                        
                        <p>构造函数 $g(x) = f(x) - x$，其中 $x \in [0, 1]$。</p>
                        <p>由于 $f(x)$ 连续，所以 $g(x)$ 在 $[0, 1]$ 上连续。</p>
                        
                        <p>计算端点处的函数值：</p>
                        <ul>
                            <li>$g(0) = f(0) - 0 = f(0) \geq 0$（因为 $f: [0,1] \to [0,1]$）</li>
                            <li>$g(1) = f(1) - 1 \leq 0$（因为 $f: [0,1] \to [0,1]$）</li>
                        </ul>
                        
                        <p><strong>情况1：</strong>若 $g(0) = 0$，则 $f(0) = 0$，取 $c = 0$。</p>
                        <p><strong>情况2：</strong>若 $g(1) = 0$，则 $f(1) = 1$，取 $c = 1$。</p>
                        <p><strong>情况3：</strong>若 $g(0) > 0$ 且 $g(1) < 0$，则 $g(0) \cdot g(1) < 0$。</p>
                        
                        <p>在情况3中，由零点定理，存在 $c \in (0, 1)$ 使得 $g(c) = 0$，即 $f(c) = c$。</p>
                        
                        <p>综上所述，总存在 $c \in [0, 1]$ 使得 $f(c) = c$。 $\square$</p>
                        
                        <div class="highlight">
                            <p><strong>推广：</strong>这是著名的布劳威尔不动点定理在一维情况下的特例。</p>
                            <p><strong>应用：</strong>在经济学、博弈论、微分方程等领域有广泛应用。</p>
                            <p><strong>几何意义：</strong>连续函数 $y = f(x)$ 的图像必与直线 $y = x$ 相交。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 1.10.3 一致连续性 -->
        <div class="content-section">
            <div class="section-header">
                <h2>1.10.3 一致连续性</h2>
            </div>
            <div class="section-content">
                <div class="definition">
                    <h4>一致连续的定义</h4>
                    <p><strong>定义：</strong>设 $f(x)$ 在区间 $I$ 上有定义。若对任意 $\varepsilon > 0$，存在 $\delta > 0$，使得对任意 $x_1, x_2 \in I$，当 $|x_1 - x_2| < \delta$ 时，都有 $|f(x_1) - f(x_2)| < \varepsilon$，则称 $f(x)$ 在区间 $I$ 上<strong>一致连续</strong>。</p>
                    
                    <p><strong>与普通连续性的区别：</strong></p>
                    <ul>
                        <li><strong>连续性：</strong>$\forall x_0 \in I, \forall \varepsilon > 0, \exists \delta > 0$ (依赖于 $x_0$)，使得当 $|x - x_0| < \delta$ 时，有 $|f(x) - f(x_0)| < \varepsilon$</li>
                        <li><strong>一致连续：</strong>$\forall \varepsilon > 0, \exists \delta > 0$ (不依赖于特定点)，使得对任意 $x_1, x_2 \in I$，当 $|x_1 - x_2| < \delta$ 时，有 $|f(x_1) - f(x_2)| < \varepsilon$</li>
                    </ul>
                </div>

                <div class="theorem">
                    <h4>康托定理（一致连续性定理）</h4>
                    <p><strong>定理：</strong>若 $f(x)$ 在闭区间 $[a, b]$ 上连续，则 $f(x)$ 在 $[a, b]$ 上一致连续。</p>
                    
                    <p><strong>证明：</strong>（反证法）</p>
                    <p>假设 $f(x)$ 在 $[a, b]$ 上不一致连续，则：</p>
                    <p>$\exists \varepsilon_0 > 0, \forall \delta > 0, \exists x_1, x_2 \in [a, b]$ 使得 $|x_1 - x_2| < \delta$ 但 $|f(x_1) - f(x_2)| \geq \varepsilon_0$</p>
                    
                    <p>取 $\delta_n = \frac{1}{n}$，则存在点列 $\{x_n\}, \{y_n\} \subset [a, b]$ 使得：</p>
                    <ul>
                        <li>$|x_n - y_n| < \frac{1}{n}$</li>
                        <li>$|f(x_n) - f(y_n)| \geq \varepsilon_0$</li>
                    </ul>
                    
                    <p>由于 $\{x_n\}$ 有界，由致密性定理，存在收敛子列 $\{x_{n_k}\}$，设 $\lim_{k \to \infty} x_{n_k} = c \in [a, b]$。</p>
                    
                    <p>由于 $|x_{n_k} - y_{n_k}| < \frac{1}{n_k} \to 0$，所以 $\lim_{k \to \infty} y_{n_k} = c$。</p>
                    
                    <p>由 $f(x)$ 在点 $c$ 连续，有：</p>
                    <ul>
                        <li>$\lim_{k \to \infty} f(x_{n_k}) = f(c)$</li>
                        <li>$\lim_{k \to \infty} f(y_{n_k}) = f(c)$</li>
                    </ul>
                    
                    <p>因此 $\lim_{k \to \infty} |f(x_{n_k}) - f(y_{n_k})| = 0$，这与 $|f(x_{n_k}) - f(y_{n_k})| \geq \varepsilon_0$ 矛盾。</p>
                    <p>故 $f(x)$ 在 $[a, b]$ 上一致连续。 $\square$</p>
                </div>

                <div class="highlight">
                    <p><strong>重要说明：</strong></p>
                    <ul>
                        <li>闭区间上的连续函数必一致连续</li>
                        <li>开区间上的连续函数不一定一致连续</li>
                        <li>一致连续性是比连续性更强的条件</li>
                        <li>一致连续的函数必连续，但连续的函数不一定一致连续</li>
                    </ul>
                </div>

                <div class="properties-cards">
                    <div class="property-card">$\delta$ 的选择与具体点无关</div>
                    <div class="property-card">闭区间上连续 $\Rightarrow$ 一致连续</div>
                    <div class="property-card">一致连续 $\Rightarrow$ 连续</div>
                    <div class="property-card">有界导数 $\Rightarrow$ 一致连续</div>
                </div>

                <!-- 一致连续性演示 -->
                <div class="interactive-demo">
                    <div class="controls">
                        <div class="control-group">
                            <label>选择函数：
                                <select id="uniform-function-select">
                                    <option value="linear">f(x) = 2x + 1 （一致连续）</option>
                                    <option value="quadratic">f(x) = x^2 在 [0, 2] （一致连续）</option>
                                    <option value="reciprocal">f(x) = 1/x 在 (0, 1] （非一致连续）</option>
                                    <option value="exponential">f(x) = e^x 在 [0, $\infty$) （非一致连续）</option>
                                </select>
                            </label>
                        </div>
                        <div class="control-group">
                            <label>$\varepsilon$ 值：
                                <input type="range" id="epsilon-value" value="0.5" step="0.1" min="0.1" max="2">
                            </label>
                        </div>
                        <div class="control-group">
                            <label>测试点 $x_1$：
                                <input type="range" id="x1-value" value="0.5" step="0.1" min="0.1" max="3">
                            </label>
                        </div>
                        <div class="control-group">
                            <label>测试点 $x_2$：
                                <input type="range" id="x2-value" value="0.7" step="0.1" min="0.1" max="3">
                            </label>
                        </div>
                    </div>
                    <div id="uniform-continuity-plot" class="viz-container"></div>
                </div>

                <div class="example">
                    <h4>例1：证明函数一致连续</h4>
                    <p><strong>问题：</strong>证明 $f(x) = \sqrt{x}$ 在 $[0, 1]$ 上一致连续。</p>
                    
                    <p><strong>解：</strong></p>
                    <p><strong>方法一：直接用定义证明</strong></p>
                    <p>对任意 $\varepsilon > 0$，要使 $|\sqrt{x_1} - \sqrt{x_2}| < \varepsilon$。</p>
                    <p>注意到：</p>
                    $$|\sqrt{x_1} - \sqrt{x_2}| = \frac{|x_1 - x_2|}{|\sqrt{x_1} + \sqrt{x_2}|}$$
                    
                    <p>当 $x_1, x_2 \in [0, 1]$ 时，$\sqrt{x_1} + \sqrt{x_2} \geq 0$。</p>
                    <p>为避免分母为 $0$，考虑 $x_1, x_2 > 0$ 的情况，$\sqrt{x_1} + \sqrt{x_2} \leq 2$。</p>
                    
                    <p>但在 $x = 0$ 附近需要特别小心。更简洁的方法是：</p>
                    
                    <p><strong>方法二：应用康托定理</strong></p>
                    <p>$f(x) = \sqrt{x}$ 在闭区间 $[0, 1]$ 上连续，</p>
                    <p>根据康托定理，$f(x)$ 在 $[0, 1]$ 上一致连续。</p>
                </div>

                <div class="example">
                    <h4>例2：证明函数不一致连续</h4>
                    <p><strong>问题：</strong>证明 $f(x) = x^2$ 在 $(0, \infty)$ 上不一致连续。</p>
                    
                    <p><strong>解：</strong></p>
                    <p>取 $\varepsilon = 1$，对任意 $\delta > 0$，取：</p>
                    <ul>
                        <li>$x_1 = \frac{1}{\delta}$</li>
                        <li>$x_2 = \frac{1}{\delta} + \frac{\delta}{2}$</li>
                    </ul>
                    
                    <p>则 $|x_1 - x_2| = \frac{\delta}{2} < \delta$，但：</p>
                    $$|f(x_2) - f(x_1)| = \left|\left(\frac{1}{\delta} + \frac{\delta}{2}\right)^2 - \frac{1}{\delta^2}\right|$$
                    $$= \left|\frac{1}{\delta^2} + 1 + \frac{\delta^2}{4} - \frac{1}{\delta^2}\right| = \left|1 + \frac{\delta^2}{4}\right| \geq 1 = \varepsilon$$
                    
                    <p>因此，$f(x) = x^2$ 在 $(0, \infty)$ 上不一致连续。</p>
                    
                    <div class="highlight">
                        <p><strong>直观理解：</strong>$x^2$ 的导数 $f'(x) = 2x$ 在 $(0, \infty)$ 上无界，函数变化越来越快，无法找到统一的 $\delta$。</p>
                    </div>
                </div>

                <div class="example">
                    <h4>例3：利用导数判断一致连续性</h4>
                    <p><strong>问题：</strong>讨论 $f(x) = \frac{\sin x}{x}$ 在 $(0, \infty)$ 上的一致连续性。</p>
                    
                    <p><strong>解：</strong></p>
                    <p>首先计算导数：</p>
                    $$f'(x) = \frac{x \cos x - \sin x}{x^2} = \frac{\cos x}{x} - \frac{\sin x}{x^2}$$
                    
                    <p>分析 $|f'(x)|$ 的有界性：</p>
                    <ul>
                        <li>$\left|\frac{\cos x}{x}\right| \leq \frac{1}{x}$，当 $x \to +\infty$ 时趋于 $0$</li>
                        <li>$\left|\frac{\sin x}{x^2}\right| \leq \frac{1}{x^2}$，当 $x \to +\infty$ 时趋于 $0$</li>
                    </ul>
                    
                    <p>所以 $f'(x)$ 在 $[\delta, \infty)$ 上有界（对任意 $\delta > 0$）。</p>
                    
                    <p>但需要检查 $x \to 0^+$ 时的情况：</p>
                    <p>$\lim_{x \to 0^+} \frac{\sin x}{x} = 1$，函数可以连续延拓到 $x = 0$。</p>
                    
                    <p>由于在任意有界区间上 $f'(x)$ 有界，且函数可延拓为连续函数，</p>
                    <p>所以 $f(x) = \frac{\sin x}{x}$ 在 $(0, \infty)$ 上一致连续。</p>
                </div>

                <div class="practice-problem">
                    <h4>习题1 <span class="difficulty medium">中等</span></h4>
                    <p>证明 $f(x) = x + \sin x$ 在 $\mathbb{R}$ 上一致连续。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p>计算导数：$f'(x) = 1 + \cos x$</p>
                        
                        <p>由于 $-1 \leq \cos x \leq 1$，所以：</p>
                        $$0 \leq f'(x) = 1 + \cos x \leq 2$$
                        
                        <p>即 $|f'(x)| \leq 2$ 对所有 $x \in \mathbb{R}$ 成立。</p>
                        
                        <p>由拉格朗日中值定理，对任意 $x_1, x_2 \in \mathbb{R}$，存在 $\xi$ 介于 $x_1$ 和 $x_2$ 之间，使得：</p>
                        $$|f(x_1) - f(x_2)| = |f'(\xi)||x_1 - x_2| \leq 2|x_1 - x_2|$$
                        
                        <p>对任意 $\varepsilon > 0$，取 $\delta = \frac{\varepsilon}{2}$，则当 $|x_1 - x_2| < \delta$ 时：</p>
                        $$|f(x_1) - f(x_2)| \leq 2|x_1 - x_2| < 2\delta = \varepsilon$$
                        
                        <p>因此 $f(x) = x + \sin x$ 在 $\mathbb{R}$ 上一致连续。</p>
                    </div>
                </div>

                <div class="practice-problem">
                    <h4>习题2 <span class="difficulty hard">较难</span></h4>
                    <p>设 $f(x)$ 在 $[0, \infty)$ 上连续，且 $\lim_{x \to \infty} f(x) = L$ 存在。证明 $f(x)$ 在 $[0, \infty)$ 上一致连续。</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        <p>由于 $\lim_{x \to \infty} f(x) = L$，对 $\varepsilon > 0$，存在 $M > 0$ 使得当 $x > M$ 时，$|f(x) - L| < \frac{\varepsilon}{2}$。</p>
                        
                        <p>这意味着当 $x_1, x_2 > M$ 时：</p>
                        $$|f(x_1) - f(x_2)| \leq |f(x_1) - L| + |f(x_2) - L| < \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon$$
                        
                        <p>因此在 $(M, \infty)$ 上，$f$ 一致连续（可以取任意 $\delta > 0$）。</p>
                        
                        <p>在闭区间 $[0, M+1]$ 上，$f$ 连续，由康托定理，$f$ 在 $[0, M+1]$ 上一致连续。</p>
                        <p>即存在 $\delta_1 > 0$，使得当 $x_1, x_2 \in [0, M+1]$ 且 $|x_1 - x_2| < \delta_1$ 时，$|f(x_1) - f(x_2)| < \varepsilon$。</p>
                        
                        <p>现在证明 $f$ 在整个 $[0, \infty)$ 上一致连续：</p>
                        <p>取 $\delta = \min\{\delta_1, 1\}$，对任意 $x_1, x_2 \in [0, \infty)$ 且 $|x_1 - x_2| < \delta$：</p>
                        
                        <p><strong>情况1：</strong>若 $x_1, x_2 \in [0, M+1]$，则由上述分析知 $|f(x_1) - f(x_2)| < \varepsilon$。</p>
                        
                        <p><strong>情况2：</strong>若 $x_1, x_2 > M$，则由上述分析知 $|f(x_1) - f(x_2)| < \varepsilon$。</p>
                        
                        <p><strong>情况3：</strong>若 $x_1 \leq M+1 < x_2$，由于 $|x_1 - x_2| < \delta \leq 1$，所以 $x_2 < M+2$。</p>
                        <p>此时 $x_1 \in [0, M+1]$ 且 $x_2 \in (M, M+2)$，可以通过中间点分析得到结果。</p>
                        
                        <p>综上，$f$ 在 $[0, \infty)$ 上一致连续。 $\square$</p>
                    </div>
                </div>

                <div class="practice-problem">
                    <h4>习题3 <span class="difficulty very-hard">很难</span></h4>
                    <p>设 $f: (0, 1) \to \mathbb{R}$ 连续。证明：$f$ 在 $(0, 1)$ 上一致连续的充分必要条件是 $\lim_{x \to 0^+} f(x)$ 和 $\lim_{x \to 1^-} f(x)$ 都存在。</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        <p><strong>必要性：</strong>设 $f$ 在 $(0, 1)$ 上一致连续。</p>
                        
                        <p>证明 $\lim_{x \to 0^+} f(x)$ 存在（$\lim_{x \to 1^-} f(x)$ 存在的证明类似）。</p>
                        
                        <p>对 $\varepsilon > 0$，由一致连续性，存在 $\delta > 0$ 使得对任意 $x_1, x_2 \in (0, 1)$，</p>
                        <p>当 $|x_1 - x_2| < \delta$ 时，$|f(x_1) - f(x_2)| < \varepsilon$。</p>
                        
                        <p>对任意 $0 < x_1, x_2 < \delta$，有 $|x_1 - x_2| < \delta$，所以 $|f(x_1) - f(x_2)| < \varepsilon$。</p>
                        <p>这表明 $\{f(x) : 0 < x < \delta\}$ 是柯西序列的函数值，</p>
                        <p>由完备性，$\lim_{x \to 0^+} f(x)$ 存在。</p>
                        
                        <p><strong>充分性：</strong>设 $\lim_{x \to 0^+} f(x) = A$，$\lim_{x \to 1^-} f(x) = B$。</p>
                        
                        <p>定义延拓函数：</p>
                        $$\tilde{f}(x) = \begin{cases}
                        A, & x = 0 \\
                        f(x), & x \in (0, 1) \\
                        B, & x = 1
                        \end{cases}$$
                        
                        <p>由极限的定义，$\tilde{f}$ 在 $[0, 1]$ 上连续。</p>
                        
                        <p>由康托定理，$\tilde{f}$ 在 $[0, 1]$ 上一致连续。</p>
                        
                        <p>因此 $f = \tilde{f}|_{(0,1)}$ 在 $(0, 1)$ 上一致连续。 $\square$</p>
                        
                        <div class="highlight">
                            <p><strong>几何意义：</strong>开区间上函数一致连续等价于可以连续延拓到闭区间。</p>
                            <p><strong>推广：</strong>这个结果可推广到一般的有界开区间。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="nav-buttons">
            <a href="1.9.html" class="btn prev">上一节：1.9 连续函数的运算与初等函数的连续性</a>
            <a href="../index.html" class="btn next">返回章节概览</a>
        </div>
        
        <footer>
            <p>&copy; 2025 高等数学复习系统 - 闭区间上连续函数的性质</p>
        </footer>
    </div>

    <script>
        // 零点定理演示
        function createZeroPointDemo() {
            const plotDiv = document.getElementById('zero-point-plot');
            const functionSelect = document.getElementById('zero-function-select');
            const intervalStart = document.getElementById('zero-interval-start');
            const intervalEnd = document.getElementById('zero-interval-end');

            function getFunctionData(funcType, a, b) {
                const x = [];
                const y = [];
                const numPoints = 300;
                const dx = (b - a) / (numPoints - 1);
                
                let func;
                switch(funcType) {
                    case 'polynomial':
                        func = (x) => x*x*x - 2*x - 1;
                        break;
                    case 'transcendental':
                        func = (x) => Math.exp(x) + x - 2;
                        break;
                    case 'trigonometric':
                        func = (x) => Math.sin(x) + x/2 - 1;
                        break;
                    case 'rational':
                        func = (x) => (x*x - 1)/(x*x + 1) - 0.3;
                        break;
                    default:
                        func = (x) => x*x*x - 2*x - 1;
                }
                
                for(let i = 0; i < numPoints; i++) {
                    const xi = a + i * dx;
                    x.push(xi);
                    y.push(func(xi));
                }
                
                return { x, y, func };
            }

            function updateZeroPlot() {
                const funcType = functionSelect.value;
                const a = parseFloat(intervalStart.value);
                const b = parseFloat(intervalEnd.value);
                
                if (a >= b) return;
                
                const { x, y, func } = getFunctionData(funcType, a-1, b+1);
                const fa = func(a);
                const fb = func(b);
                
                // 寻找零点
                const zeros = [];
                for(let i = 0; i < x.length - 1; i++) {
                    if (x[i] >= a && x[i] <= b && y[i] * y[i+1] <= 0) {
                        // 使用二分法精确找零点
                        let left = x[i];
                        let right = x[i+1];
                        for(let j = 0; j < 50; j++) {
                            const mid = (left + right) / 2;
                            const fmid = func(mid);
                            if (Math.abs(fmid) < 1e-10) break;
                            if (fmid * func(left) < 0) {
                                right = mid;
                            } else {
                                left = mid;
                            }
                        }
                        zeros.push((left + right) / 2);
                    }
                }
                
                const traces = [
                    {
                        x: x,
                        y: y,
                        type: 'scatter',
                        mode: 'lines',
                        name: '函数图像',
                        line: { color: '#e74c3c', width: 3 }
                    },
                    {
                        x: [a, b],
                        y: [0, 0],
                        type: 'scatter',
                        mode: 'lines',
                        name: '区间',
                        line: { color: '#34495e', width: 4 }
                    },
                    {
                        x: [a, a],
                        y: [0, fa],
                        type: 'scatter',
                        mode: 'lines+markers',
                        name: `f(${a.toFixed(1)}) = ${fa.toFixed(3)}`,
                        line: { color: '#27ae60', width: 2, dash: 'dot' },
                        marker: { size: 8, color: '#27ae60' }
                    },
                    {
                        x: [b, b],
                        y: [0, fb],
                        type: 'scatter',
                        mode: 'lines+markers',
                        name: `f(${b.toFixed(1)}) = ${fb.toFixed(3)}`,
                        line: { color: '#f39c12', width: 2, dash: 'dot' },
                        marker: { size: 8, color: '#f39c12' }
                    }
                ];
                
                // 添加零点
                if (zeros.length > 0) {
                    traces.push({
                        x: zeros,
                        y: zeros.map(() => 0),
                        type: 'scatter',
                        mode: 'markers',
                        name: '零点',
                        marker: { size: 12, color: '#8e44ad', symbol: 'x' }
                    });
                }
                
                const layout = {
                    title: `零点定理演示 - f(${a})·f(${b}) = ${(fa*fb).toFixed(3)}`,
                    xaxis: { 
                        title: 'x',
                        zeroline: true,
                        zerolinecolor: '#bdc3c7',
                        zerolinewidth: 2
                    },
                    yaxis: { 
                        title: 'f(x)',
                        zeroline: true,
                        zerolinecolor: '#bdc3c7',
                        zerolinewidth: 2
                    },
                    showlegend: true,
                    legend: { x: 0.02, y: 0.98 },
                    margin: { t: 60, r: 20, b: 60, l: 60 },
                    plot_bgcolor: '#f8f9fa'
                };
                
                const config = { 
                    displayModeBar: true,
                    displaylogo: false,
                    modeBarButtonsToRemove: ['pan2d', 'lasso2d', 'select2d']
                };
                
                if (plotDiv) {
                    Plotly.newPlot(plotDiv, traces, layout, config);
                }
            }
            
            // 事件监听器
            if (functionSelect) functionSelect.addEventListener('change', updateZeroPlot);
            if (intervalStart) intervalStart.addEventListener('input', updateZeroPlot);
            if (intervalEnd) intervalEnd.addEventListener('input', updateZeroPlot);
            
            // 初始化
            updateZeroPlot();
        }
        
        // 一致连续性演示
        function createUniformContinuityDemo() {
            const plotDiv = document.getElementById('uniform-continuity-plot');
            const functionSelect = document.getElementById('uniform-function-select');
            const epsilonInput = document.getElementById('epsilon-value');
            const x1Input = document.getElementById('x1-value');
            const x2Input = document.getElementById('x2-value');

            function getFunctionData(funcType) {
                let func, domain, funcName;
                
                switch(funcType) {
                    case 'linear':
                        func = (x) => 2*x + 1;
                        domain = [-1, 3];
                        funcName = 'f(x) = 2x + 1';
                        break;
                    case 'quadratic':
                        func = (x) => x*x;
                        domain = [0, 2];
                        funcName = 'f(x) = x²';
                        break;
                    case 'reciprocal':
                        func = (x) => 1/x;
                        domain = [0.1, 1];
                        funcName = 'f(x) = 1/x';
                        break;
                    case 'exponential':
                        func = (x) => Math.exp(x);
                        domain = [0, 3];
                        funcName = 'f(x) = eˣ';
                        break;
                    default:
                        func = (x) => 2*x + 1;
                        domain = [-1, 3];
                        funcName = 'f(x) = 2x + 1';
                }
                
                return { func, domain, funcName };
            }

            function updateUniformPlot() {
                const funcType = functionSelect.value;
                const epsilon = parseFloat(epsilonInput.value);
                const x1 = parseFloat(x1Input.value);
                const x2 = parseFloat(x2Input.value);
                
                const { func, domain, funcName } = getFunctionData(funcType);
                const [domainStart, domainEnd] = domain;
                
                // 生成函数图像
                const x = [];
                const y = [];
                const numPoints = 300;
                const dx = (domainEnd - domainStart) / (numPoints - 1);
                
                for(let i = 0; i < numPoints; i++) {
                    const xi = domainStart + i * dx;
                    x.push(xi);
                    try {
                        y.push(func(xi));
                    } catch (e) {
                        y.push(NaN);
                    }
                }
                
                // 计算测试点的函数值
                let f1, f2;
                try {
                    f1 = func(x1);
                    f2 = func(x2);
                } catch (e) {
                    f1 = NaN;
                    f2 = NaN;
                }
                
                const delta = Math.abs(x1 - x2);
                const functionDiff = Math.abs(f1 - f2);
                
                const traces = [
                    {
                        x: x,
                        y: y,
                        type: 'scatter',
                        mode: 'lines',
                        name: funcName,
                        line: { color: '#3498db', width: 3 }
                    },
                    {
                        x: [x1, x2],
                        y: [f1, f2],
                        type: 'scatter',
                        mode: 'markers',
                        name: '测试点',
                        marker: { size: 12, color: ['#e74c3c', '#f39c12'] }
                    },
                    {
                        x: [x1, x2],
                        y: [f1, f2],
                        type: 'scatter',
                        mode: 'lines',
                        name: '点间距离',
                        line: { color: '#34495e', width: 2, dash: 'dash' }
                    }
                ];
                
                // 添加ε-带
                if (!isNaN(f1) && !isNaN(f2)) {
                    const centerY = (f1 + f2) / 2;
                    traces.push({
                        x: [domainStart, domainEnd, domainEnd, domainStart],
                        y: [centerY - epsilon/2, centerY - epsilon/2, centerY + epsilon/2, centerY + epsilon/2],
                        fill: 'tozeroy',
                        fillcolor: 'rgba(46, 204, 113, 0.2)',
                        line: { color: 'rgba(46, 204, 113, 0.4)' },
                        name: `ε-带 (ε=${epsilon})`
                    });
                }
                
                const isUniform = functionDiff < epsilon;
                const statusColor = isUniform ? '#27ae60' : '#e74c3c';
                const statusText = isUniform ? '满足条件' : '不满足条件';
                
                const layout = {
                    title: `一致连续性测试：|x₁-x₂|=${delta.toFixed(3)}, |f(x₁)-f(x₂)|=${functionDiff.toFixed(3)} - ${statusText}`,
                    xaxis: { title: 'x' },
                    yaxis: { title: 'f(x)' },
                    showlegend: true,
                    legend: { x: 0.02, y: 0.98 },
                    margin: { t: 80, r: 20, b: 60, l: 60 },
                    plot_bgcolor: '#f8f9fa',
                    annotations: [
                        {
                            x: x1,
                            y: f1,
                            text: `x₁=${x1}<br>f(x₁)=${f1.toFixed(3)}`,
                            showarrow: true,
                            arrowcolor: '#e74c3c',
                            bgcolor: 'white',
                            bordercolor: '#e74c3c'
                        },
                        {
                            x: x2,
                            y: f2,
                            text: `x₂=${x2}<br>f(x₂)=${f2.toFixed(3)}`,
                            showarrow: true,
                            arrowcolor: '#f39c12',
                            bgcolor: 'white',
                            bordercolor: '#f39c12'
                        }
                    ]
                };
                
                const config = { 
                    displayModeBar: true,
                    displaylogo: false,
                    modeBarButtonsToRemove: ['pan2d', 'lasso2d', 'select2d']
                };
                
                if (plotDiv) {
                    Plotly.newPlot(plotDiv, traces, layout, config);
                }
            }
            
            // 事件监听器
            if (functionSelect) functionSelect.addEventListener('change', updateUniformPlot);
            if (epsilonInput) epsilonInput.addEventListener('input', updateUniformPlot);
            if (x1Input) x1Input.addEventListener('input', updateUniformPlot);
            if (x2Input) x2Input.addEventListener('input', updateUniformPlot);
            
            // 初始化
            updateUniformPlot();
        }

        // 最值演示
        function createExtremaDemo() {
            const plotDiv = document.getElementById('extrema-plot');
            const functionSelect = document.getElementById('function-select');
            const intervalStart = document.getElementById('interval-start');
            const intervalEnd = document.getElementById('interval-end');
            const startValue = document.getElementById('start-value');
            const endValue = document.getElementById('end-value');
            const extremaInfo = document.getElementById('extrema-info');
            
            function getFunction(x, type) {
                switch(type) {
                    case 'quadratic':
                        return x*x - 2*x + 1;
                    case 'cubic':
                        return x*x*x - 3*x*x + 2;
                    case 'sin':
                        return Math.sin(2*x) + 0.5*x;
                    case 'exp':
                        return Math.exp(-x*x);
                    case 'rational':
                        return 1/(x*x + 1);
                    default:
                        return x*x - 2*x + 1;
                }
            }
            
            function getFunctionName(type) {
                const names = {
                    'quadratic': 'x² - 2x + 1',
                    'cubic': 'x³ - 3x² + 2',
                    'sin': 'sin(2x) + 0.5x',
                    'exp': 'e^(-x²)',
                    'rational': '1/(x² + 1)'
                };
                return names[type] || 'x² - 2x + 1';
            }
            
            function findExtrema(funcType, a, b) {
                const step = (b - a) / 1000;
                let minVal = Infinity;
                let maxVal = -Infinity;
                let minPoint = a;
                let maxPoint = a;
                
                for (let x = a; x <= b; x += step) {
                    const y = getFunction(x, funcType);
                    if (y < minVal) {
                        minVal = y;
                        minPoint = x;
                    }
                    if (y > maxVal) {
                        maxVal = y;
                        maxPoint = x;
                    }
                }
                
                // 也检查端点
                const yStart = getFunction(a, funcType);
                const yEnd = getFunction(b, funcType);
                
                if (yStart < minVal) {
                    minVal = yStart;
                    minPoint = a;
                }
                if (yStart > maxVal) {
                    maxVal = yStart;
                    maxPoint = a;
                }
                if (yEnd < minVal) {
                    minVal = yEnd;
                    minPoint = b;
                }
                if (yEnd > maxVal) {
                    maxVal = yEnd;
                    maxPoint = b;
                }
                
                return {
                    min: { x: minPoint, y: minVal },
                    max: { x: maxPoint, y: maxVal }
                };
            }
            
            function updatePlot() {
                const funcType = functionSelect.value;
                const a = parseFloat(intervalStart.value);
                const b = parseFloat(intervalEnd.value);
                
                startValue.textContent = a.toFixed(1);
                endValue.textContent = b.toFixed(1);
                
                // 生成函数图像数据
                const xFull = [];
                const yFull = [];
                const xInterval = [];
                const yInterval = [];
                
                const fullRange = 5;
                const step = 0.01;
                
                for (let x = -fullRange; x <= fullRange; x += step) {
                    const y = getFunction(x, funcType);
                    if (!isNaN(y) && Math.abs(y) < 20) {
                        xFull.push(x);
                        yFull.push(y);
                    }
                }
                
                for (let x = a; x <= b; x += step) {
                    const y = getFunction(x, funcType);
                    if (!isNaN(y) && Math.abs(y) < 20) {
                        xInterval.push(x);
                        yInterval.push(y);
                    }
                }
                
                // 找到最值点
                const extrema = findExtrema(funcType, a, b);
                
                // 更新最值信息
                extremaInfo.innerHTML = `
                    <div>最小值: ${extrema.min.y.toFixed(3)} (x = ${extrema.min.x.toFixed(3)})</div>
                    <div>最大值: ${extrema.max.y.toFixed(3)} (x = ${extrema.max.x.toFixed(3)})</div>
                `;
                
                // 创建图形轨迹
                const fullTrace = {
                    x: xFull,
                    y: yFull,
                    mode: 'lines',
                    name: `f(x) = ${getFunctionName(funcType)}`,
                    line: { color: '#bdc3c7', width: 2, dash: 'dot' }
                };
                
                const intervalTrace = {
                    x: xInterval,
                    y: yInterval,
                    mode: 'lines',
                    name: `在 [${a}, ${b}] 上`,
                    line: { color: '#e74c3c', width: 4 }
                };
                
                const minTrace = {
                    x: [extrema.min.x],
                    y: [extrema.min.y],
                    mode: 'markers',
                    name: '最小值',
                    marker: {
                        color: '#27ae60',
                        size: 12,
                        symbol: 'circle',
                        line: { color: '#1e8449', width: 2 }
                    }
                };
                
                const maxTrace = {
                    x: [extrema.max.x],
                    y: [extrema.max.y],
                    mode: 'markers',
                    name: '最大值',
                    marker: {
                        color: '#f39c12',
                        size: 12,
                        symbol: 'square',
                        line: { color: '#d68910', width: 2 }
                    }
                };
                
                // 区间端点
                const endpointsTrace = {
                    x: [a, b],
                    y: [getFunction(a, funcType), getFunction(b, funcType)],
                    mode: 'markers',
                    name: '区间端点',
                    marker: {
                        color: '#8e44ad',
                        size: 10,
                        symbol: 'diamond'
                    }
                };
                
                const layout = {
                    title: `闭区间 [${a}, ${b}] 上连续函数的最值`,
                    xaxis: {
                        title: 'x',
                        range: [Math.min(-3, a-1), Math.max(3, b+1)],
                        zeroline: true,
                        gridcolor: 'rgba(0,0,0,0.1)'
                    },
                    yaxis: {
                        title: 'f(x)',
                        zeroline: true,
                        gridcolor: 'rgba(0,0,0,0.1)'
                    },
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)',
                    showlegend: true,
                    legend: { x: 0.02, y: 0.98 }
                };
                
                const traces = [fullTrace, intervalTrace, minTrace, maxTrace, endpointsTrace];
                Plotly.newPlot(plotDiv, traces, layout, {responsive: true});
            }
            
            // 事件监听器
            functionSelect.addEventListener('change', updatePlot);
            intervalStart.addEventListener('input', updatePlot);
            intervalEnd.addEventListener('input', updatePlot);
            
            // 初始化
            updatePlot();
        }
        
        // 页面加载动画
        function initializeAnimations() {
            const contentSections = document.querySelectorAll('.content-section');
            if (contentSections.length > 0 && typeof gsap !== 'undefined') {
                gsap.from('.content-section', {
                    duration: 0.8,
                    y: 30,
                    opacity: 0,
                    stagger: 0.2,
                    ease: "power2.out"
                });
            }
            
            // 确保 property-card 元素可见，然后执行动画
            const propertyCards = document.querySelectorAll('.property-card');
            propertyCards.forEach(card => {
                card.style.display = 'inline-block';
                card.style.visibility = 'visible';
                card.style.opacity = '1';
                card.style.transform = 'scale(1)';
            });
            
            if (propertyCards.length > 0 && typeof gsap !== 'undefined') {
                try {
                    gsap.fromTo('.property-card', 
                        {
                            scale: 0,
                            rotation: -180,
                            opacity: 0
                        },
                        {
                            duration: 0.7,
                            scale: 1,
                            rotation: 0,
                            opacity: 1,
                            stagger: 0.12,
                            delay: 1,
                            ease: "back.out(1.7)"
                        }
                    );
                } catch (error) {
                    console.log('GSAP animation failed, but elements are visible');
                }
            }
        }
        
        // 交互效果设置
        function setupCardInteractions() {
            const propertyCards = document.querySelectorAll('.property-card');
            propertyCards.forEach((card) => {
                card.addEventListener('mouseenter', function() {
                    if (typeof gsap !== 'undefined') {
                        gsap.to(this, { duration: 0.3, scale: 1.08, rotation: 2 });
                    }
                });
                
                card.addEventListener('mouseleave', function() {
                    if (typeof gsap !== 'undefined') {
                        gsap.to(this, { duration: 0.3, scale: 1, rotation: 0 });
                    }
                });
            });
        }
        
        // 滚动触发动画
        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && typeof gsap !== 'undefined') {
                        gsap.from(entry.target.querySelectorAll('.math-expression'), {
                            duration: 0.8,
                            y: 20,
                            opacity: 0,
                            stagger: 0.1,
                            ease: "power2.out"
                        });
                    }
                });
            }, { threshold: 0.2 });
            
            document.querySelectorAll('.content-section').forEach(section => {
                observer.observe(section);
            });
        }
        
        // 页面加载时初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 强制显示卡片内容
            const propertiesCards = document.querySelector('.properties-cards');
            if (propertiesCards) {
                propertiesCards.style.display = 'flex';
                propertiesCards.style.visibility = 'visible';
                propertiesCards.style.opacity = '1';
                
                const propertyCards = document.querySelectorAll('.property-card');
                propertyCards.forEach(card => {
                    card.style.display = 'inline-block';
                    card.style.visibility = 'visible';
                    card.style.opacity = '1';
                    card.style.transform = 'scale(1)';
                });
                
                // 重新渲染 MathJax
                if (typeof MathJax !== 'undefined') {
                    MathJax.typesetPromise([propertiesCards]).catch((err) => console.log(err));
                }
            }
            
            // 等待一段时间确保所有资源加载完毕
            setTimeout(() => {
                createExtremaDemo();
                createZeroPointDemo();
                createUniformContinuityDemo();
                initializeAnimations();
                setupCardInteractions();
            }, 500);
            
            if (typeof MathJax !== 'undefined') {
                MathJax.startup.promise.then(() => {
                    setTimeout(() => {
                        setupScrollAnimations();
                    }, 500);
                });
            } else {
                setTimeout(() => {
                    setupScrollAnimations();
                }, 1500);
            }
        });
    </script>
</body>
</html>
