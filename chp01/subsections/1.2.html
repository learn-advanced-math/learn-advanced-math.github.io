<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="alternate icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9IiMzNDk4ZGIiIHN0cm9rZT0iIzJjM2U1MCIgc3Ryb2tlLXdpZHRoPSIyIi8+PGcgZmlsbD0id2hpdGUiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiPjx0ZXh0IHg9IjE2IiB5PSIxMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMiI+ZDwvdGV4dD48bGluZSB4MT0iOCIgeTE9IjE2IiB4Mj0iMjQiIHkyPSIxNiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNiIgeT0iMjUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTAiPmR4PC90ZXh0PjwvZz48L3N2Zz4=">
    <title>1.2 数列与极限 - 高等数学复习</title>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']]
            },
            chtml: {
                fontURL: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            margin-bottom: 20px;
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .back-link:hover {
            color: #2980b9;
            transform: translateX(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }
        
        .back-link::before {
            content: '←';
            margin-right: 8px;
            font-size: 1.2em;
        }
        
        header {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5em;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: 300;
        }
        
        .subtitle {
            font-size: 1.1em;
            margin-top: 10px;
            opacity: 0.9;
        }
        
        .content-section {
            background: white;
            margin: 25px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .content-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .section-header {
            padding: 20px 30px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
        }
        
        .section-header h2 {
            margin: 0;
            font-size: 1.6em;
            font-weight: 400;
        }
        
        .section-content {
            padding: 30px;
        }
        
        .definition {
            background: linear-gradient(135deg, #eef7ff, #ddeeff);
            border-left: 5px solid #3498db;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(52, 152, 219, 0.1);
        }
        
        .definition h4 {
            margin: 0 0 15px 0;
            color: #3498db;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .theorem {
            background: linear-gradient(135deg, #fef9e7, #fcf4dd);
            border-left: 5px solid #f39c12;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(243, 156, 18, 0.1);
        }
        
        .theorem h4 {
            margin: 0 0 15px 0;
            color: #f39c12;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .example {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-left: 5px solid #22c55e;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(34, 197, 94, 0.1);
        }
        
        .example h4 {
            margin: 0 0 15px 0;
            color: #22c55e;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .practice-problem {
            background: linear-gradient(135deg, #fdf2e9, #fbeee0);
            border-left: 5px solid #e67e22;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(230, 126, 34, 0.1);
        }
        
        .practice-problem h4 {
            margin: 0 0 15px 0;
            color: #e67e22;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .difficulty {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 500;
            margin-left: 10px;
        }
        
        .difficulty.medium {
            background: #f39c12;
            color: white;
        }
        
        .difficulty.hard {
            background: #e74c3c;
            color: white;
        }
        
        .difficulty.very-hard {
            background: #8e44ad;
            color: white;
        }
        
        .solution {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #bdc3c7;
        }
        
        .solution-header {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .viz-container {
            width: 100%;
            height: 400px;
            margin: 25px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .sequence-demo {
            width: 100%;
            height: auto;
            min-height: 450px;
            margin: 25px 0;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .controls label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #e74c3c;
        }
        
        .controls input, .controls select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .sequence-types {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
            width: 100%;
            visibility: visible !important;
        }
        
        .sequence-card {
            background: linear-gradient(135deg, #ddeeff, #cce7ff) !important;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        .sequence-card:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }
        
        .sequence-card h5 {
            color: #3498db !important;
            margin-bottom: 10px;
            font-weight: 600;
            display: block !important;
            visibility: visible !important;
        }
        
        .sequence-card .math-expression {
            color: #2c3e50 !important;
            display: block !important;
            visibility: visible !important;
            font-size: 1.1em;
        }
        
        .sequence-card p {
            color: #666 !important;
            display: block !important;
            visibility: visible !important;
            margin: 5px 0 0 0;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            padding: 20px 0;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 25px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 3px 15px rgba(52, 152, 219, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(52, 152, 219, 0.4);
        }
        
        .btn.prev::before {
            content: '←';
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        .btn.next::after {
            content: '→';
            margin-left: 8px;
            font-size: 1.1em;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 30px 0;
            opacity: 0.9;
            margin-top: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        footer p {
            text-align: center;
            margin: 0;
        }
        
        .math-expression {
            text-align: center;
            margin: 15px 0;
            font-size: 1.1em;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fff3cd, #fce4a0);
            padding: 15px;
            border-left: 4px solid #ffc107;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        /* AI提示方块样式 */
        .ai-warning {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 2px solid #e0e0e0;
        }
        
        .ai-warning:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            border-color: #ff4444;
        }
        
        .ai-warning::before {
            content: '!';
            color: #e74c3c;
            font-size: 20px;
            font-weight: bold;
            font-family: Arial, sans-serif;
        }
        
        .ai-warning-tooltip {
            position: absolute;
            top: 50px;
            left: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 16px 20px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.5;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1001;
            width: 250px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .ai-warning-tooltip::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(0, 0, 0, 0.9);
        }
        
        .ai-warning:hover .ai-warning-tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .section-content {
                padding: 20px;
            }
            
            .definition, .theorem, .example, .practice-problem {
                padding: 20px;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .sequence-types {
                grid-template-columns: 1fr;
            }

            .ai-warning {
                width: 35px;
                height: 35px;
                top: 15px;
                left: 15px;
            }
            
            .ai-warning::before {
                font-size: 18px;
            }
            
            .ai-warning-tooltip {
                width: 280px;
                font-size: 13px;
                padding: 14px 18px;
            }
        }
    </style>
</head>
<body>
    <!-- AI内容提示 -->
    <div class="ai-warning">
        <div class="ai-warning-tooltip">
            页面内容由AI生成，请谨慎对待。<br>如发现错误，欢迎反馈。
        </div>
    </div>
    
    <div class="container">
        <a href="../index.html" class="back-link">返回章节概览</a>
        
        <header>
            <h1>1.2 数列与极限</h1>
            <div class="subtitle">Sequences and Limits</div>
        </header>
        
        <!-- 1.2.1 数列及其极限 -->
        <div class="content-section">
            <div class="section-header">
                <h2>1.2.1 数列及其极限</h2>
            </div>
            <div class="section-content">
                <div class="definition">
                    <h4>定义1：数列</h4>
                    <p>按照某一法则，对每个正整数 $n$，对应一个确定的实数 $x_n$，这样得到的一列数</p>
                    <div class="math-expression">$$x_1, x_2, x_3, \ldots, x_n, \ldots$$</div>
                    <p>就叫做<strong>数列</strong>，简记为数列 $\{x_n\}$ 或 $\{x_n\}_{n=1}^{\infty}$。</p>
                    
                    <div class="highlight">
                        <p><strong>说明：</strong></p>
                        <ul>
                            <li>$x_n$ 叫做数列的<strong>通项</strong>或<strong>一般项</strong></li>
                            <li>数列是定义在正整数集 $\mathbb{N}^+$ 上的函数</li>
                            <li>数列中项的先后次序不能颠倒</li>
                        </ul>
                    </div>
                </div>
                
                <div class="definition">
                    <h4>定义2：数列的极限</h4>
                    <p>设 $\{x_n\}$ 为一数列，如果存在常数 $a$，对于任意给定的正数 $\varepsilon$（无论它多么小），总存在正整数 $N$，使得当 $n > N$ 时，不等式</p>
                    <div class="math-expression">$$|x_n - a| < \varepsilon$$</div>
                    <p>都成立，那么就称常数 $a$ 是数列 $\{x_n\}$ 的<strong>极限</strong>，或者称数列 $\{x_n\}$ <strong>收敛</strong>于 $a$，记作：</p>
                    <div class="math-expression">$$\lim_{n \to \infty} x_n = a \quad \text{或} \quad x_n \to a \text{ 当 } n \to \infty$$</div>
                    
                    <div class="highlight">
                        <p><strong>几何意义：</strong>无论 $\varepsilon > 0$ 多么小，数列 $\{x_n\}$ 中除了有限项（至多前 $N$ 项）以外，其余各项都落在区间 $(a - \varepsilon, a + \varepsilon)$ 内。</p>
                    </div>
                </div>
                
                <div class="definition">
                    <h4>定义3：数列的发散</h4>
                    <p>如果数列 $\{x_n\}$ 没有极限，就说数列 $\{x_n\}$ 是<strong>发散</strong>的。</p>
                    
                    <p><strong>特殊情况：</strong></p>
                    <ul>
                        <li>如果对于任意正数 $M$，总存在正整数 $N$，使得当 $n > N$ 时，有 $x_n > M$，则记作 $\lim_{n \to \infty} x_n = +\infty$</li>
                        <li>如果对于任意正数 $M$，总存在正整数 $N$，使得当 $n > N$ 时，有 $x_n < -M$，则记作 $\lim_{n \to \infty} x_n = -\infty$</li>
                    </ul>
                </div>
                
                <div class="sequence-types">
                    <div class="sequence-card">
                        <h5>收敛数列</h5>
                        <div class="math-expression">$\lim_{n \to \infty} x_n = a$</div>
                        <p>有有限极限</p>
                    </div>
                    <div class="sequence-card">
                        <h5>发散到正无穷</h5>
                        <div class="math-expression">$\lim_{n \to \infty} x_n = +\infty$</div>
                        <p>无界增长</p>
                    </div>
                    <div class="sequence-card">
                        <h5>发散到负无穷</h5>
                        <div class="math-expression">$\lim_{n \to \infty} x_n = -\infty$</div>
                        <p>无界下降</p>
                    </div>
                    <div class="sequence-card">
                        <h5>振荡发散</h5>
                        <div class="math-expression">$x_n = (-1)^n$</div>
                        <p>无极限存在</p>
                    </div>
                </div>
                
                <div class="sequence-demo" id="sequence-limit-demo">
                    <div class="controls">
                        <div class="control-group">
                            <label for="sequence-type">选择数列类型：</label>
                            <select id="sequence-type">
                                <option value="convergent">收敛: xₙ = 1/n</option>
                                <option value="arithmetic">等差: xₙ = 2n + 1</option>
                                <option value="geometric">等比: xₙ = (1/2)ⁿ</option>
                                <option value="oscillating">振荡: xₙ = (-1)ⁿ/n</option>
                                <option value="fibonacci">斐波那契数列</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="n-terms">显示项数 N：</label>
                            <input type="range" id="n-terms" min="5" max="100" step="5" value="20">
                            <span id="terms-display">20</span>
                        </div>
                        
                        <div class="control-group">
                            <label for="epsilon-demo">ε 值：</label>
                            <input type="range" id="epsilon-demo" min="0.01" max="1" step="0.01" value="0.1">
                            <span id="epsilon-demo-display">0.1</span>
                        </div>
                    </div>
                    <div id="sequence-plot"></div>
                </div>
                
                <div class="example">
                    <h4>例1：用定义证明数列极限</h4>
                    <p>用 $\varepsilon - N$ 定义证明：$\lim_{n \to \infty} \frac{1}{n} = 0$</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        <p>要证明 $\lim_{n \to \infty} \frac{1}{n} = 0$，即要证明：对于任意给定的 $\varepsilon > 0$，存在正整数 $N$，使得当 $n > N$ 时，都有 $\left|\frac{1}{n} - 0\right| < \varepsilon$。</p>
                        
                        <p><strong>分析：</strong></p>
                        $$\left|\frac{1}{n} - 0\right| = \frac{1}{n}$$
                        
                        <p>要使 $\frac{1}{n} < \varepsilon$，只需 $n > \frac{1}{\varepsilon}$。</p>
                        
                        <p><strong>证明过程：</strong></p>
                        <p>对于任意给定的 $\varepsilon > 0$，取 $N = \left[\frac{1}{\varepsilon}\right]$（其中 $[x]$ 表示不超过 $x$ 的最大整数），那么当 $n > N$ 时，有：</p>
                        $$n > \left[\frac{1}{\varepsilon}\right] \geq \frac{1}{\varepsilon} - 1$$
                        
                        <p>因此 $n \geq \frac{1}{\varepsilon}$，所以：</p>
                        $$\left|\frac{1}{n} - 0\right| = \frac{1}{n} \leq \frac{1}{\frac{1}{\varepsilon}} = \varepsilon$$
                        
                        <p>因此，$\lim_{n \to \infty} \frac{1}{n} = 0$。</p>
                    </div>
                </div>
                
                <div class="example">
                    <h4>例2：等比数列的极限</h4>
                    <p>求 $\lim_{n \to \infty} q^n$，其中 $q$ 为常数。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        
                        <p><strong>情况1：</strong>当 $|q| < 1$ 时</p>
                        <p>$$\lim_{n \to \infty} q^n = 0$$</p>
                        
                        <p><strong>情况2：</strong>当 $q = 1$ 时</p>
                        <p>$$\lim_{n \to \infty} q^n = \lim_{n \to \infty} 1 = 1$$</p>
                        
                        <p><strong>情况3：</strong>当 $q = -1$ 时</p>
                        <p>$q^n = (-1)^n$ 在 $1$ 和 $-1$ 之间振荡，极限不存在。</p>
                        
                        <p><strong>情况4：</strong>当 $|q| > 1$ 时</p>
                        <ul>
                            <li>若 $q > 1$，则 $\lim_{n \to \infty} q^n = +\infty$</li>
                            <li>若 $q < -1$，则 $\{q^n\}$ 发散（振荡型发散）</li>
                        </ul>
                        
                        <p><strong>总结：</strong></p>
                        $$\lim_{n \to \infty} q^n = \begin{cases}
                        0, & |q| < 1 \\
                        1, & q = 1 \\
                        \text{不存在}, & |q| \geq 1 \text{ 且 } q \neq 1
                        \end{cases}$$
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题1 <span class="difficulty medium">中等难度</span></h4>
                    <p>用 $\varepsilon - N$ 定义证明：$\lim_{n \to \infty} \frac{2n + 1}{3n - 1} = \frac{2}{3}$</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        <p><strong>要证明：</strong>对于任意 $\varepsilon > 0$，存在正整数 $N$，使得当 $n > N$ 时，有 $\left|\frac{2n + 1}{3n - 1} - \frac{2}{3}\right| < \varepsilon$。</p>
                        
                        <p><strong>分析：</strong></p>
                        $$\left|\frac{2n + 1}{3n - 1} - \frac{2}{3}\right| = \left|\frac{3(2n + 1) - 2(3n - 1)}{3(3n - 1)}\right|$$
                        
                        $$= \left|\frac{6n + 3 - 6n + 2}{3(3n - 1)}\right| = \left|\frac{5}{3(3n - 1)}\right| = \frac{5}{3(3n - 1)}$$
                        
                        <p>当 $n \geq 1$ 时，$3n - 1 \geq 2$，所以：</p>
                        $$\frac{5}{3(3n - 1)} \leq \frac{5}{3 \cdot 2} = \frac{5}{6n} \leq \frac{5}{6n}$$
                        
                        <p>要使 $\frac{5}{3(3n - 1)} < \varepsilon$，只需 $3n - 1 > \frac{5}{3\varepsilon}$，即 $n > \frac{5 + 3\varepsilon}{9\varepsilon}$。</p>
                        
                        <p><strong>证明过程：</strong></p>
                        <p>对于任意给定的 $\varepsilon > 0$，取 $N = \left[\frac{5 + 3\varepsilon}{9\varepsilon}\right] + 1$，那么当 $n > N$ 时：</p>
                        
                        $$\left|\frac{2n + 1}{3n - 1} - \frac{2}{3}\right| = \frac{5}{3(3n - 1)} < \varepsilon$$
                        
                        <p>因此，$\lim_{n \to \infty} \frac{2n + 1}{3n - 1} = \frac{2}{3}$。</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 1.2.2 收敛数列的性质 -->
        <div class="content-section">
            <div class="section-header">
                <h2>1.2.2 收敛数列的性质</h2>
            </div>
            <div class="section-content">
                <div class="theorem">
                    <h4>性质1：唯一性</h4>
                    <p>如果数列 $\{x_n\}$ 收敛，那么它的极限是唯一的。</p>
                    
                    <div class="highlight">
                        <p><strong>证明思路：</strong>用反证法。假设数列有两个不同的极限，利用极限定义可推出矛盾。</p>
                    </div>
                </div>
                
                <div class="theorem">
                    <h4>性质2：有界性</h4>
                    <p>如果数列 $\{x_n\}$ 收敛，那么数列 $\{x_n\}$ 一定有界。</p>
                    
                    <p><strong>定义：</strong>称数列 $\{x_n\}$ 有界，如果存在正数 $M$，使得对所有的正整数 $n$，都有 $|x_n| \leq M$。</p>
                    
                    <div class="highlight">
                        <p><strong>注意：</strong>有界是收敛的必要条件，但不是充分条件。例如，数列 $\{(-1)^n\}$ 有界但不收敛。</p>
                    </div>
                </div>
                
                <div class="theorem">
                    <h4>性质3：保号性</h4>
                    <p>如果 $\lim_{n \to \infty} x_n = a$，且 $a > 0$（或 $a < 0$），那么存在正整数 $N$，当 $n > N$ 时，有 $x_n > 0$（或 $x_n < 0$）。</p>
                    
                    <p><strong>推论：</strong>如果 $\lim_{n \to \infty} x_n = a$，且存在正整数 $N$，当 $n > N$ 时有 $x_n \geq 0$（或 $x_n \leq 0$），那么 $a \geq 0$（或 $a \leq 0$）。</p>
                </div>
                
                <div class="theorem">
                    <h4>性质4：收敛数列与其子数列间的关系</h4>
                    <p>如果数列 $\{x_n\}$ 收敛于 $a$，那么它的任一子数列也收敛，且极限也是 $a$。</p>
                    
                    <div class="highlight">
                        <p><strong>逆命题：</strong>如果数列 $\{x_n\}$ 的两个子数列 $\{x_{2n-1}\}$（奇数项子列）和 $\{x_{2n}\}$（偶数项子列）都收敛于同一极限 $a$，那么原数列 $\{x_n\}$ 也收敛于 $a$。</p>
                    </div>
                </div>
                
                <div class="viz-container" id="convergence-properties-plot"></div>
                
                <div class="example">
                    <h4>例3：利用子数列判断数列的收敛性</h4>
                    <p>判断数列 $\{(-1)^n\}$ 的收敛性。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        
                        <p>考虑数列 $x_n = (-1)^n$，我们有：</p>
                        <ul>
                            <li>奇数项子列：$x_1 = -1, x_3 = -1, x_5 = -1, \ldots$，即 $x_{2k-1} = -1$</li>
                            <li>偶数项子列：$x_2 = 1, x_4 = 1, x_6 = 1, \ldots$，即 $x_{2k} = 1$</li>
                        </ul>
                        
                        <p>显然：</p>
                        $$\lim_{k \to \infty} x_{2k-1} = -1, \quad \lim_{k \to \infty} x_{2k} = 1$$
                        
                        <p>由于两个子数列的极限不相等，根据收敛数列与子数列的关系，原数列 $\{(-1)^n\}$ 发散。</p>
                        
                        <p><strong>另一种方法：</strong>假设 $\lim_{n \to \infty} (-1)^n = a$，那么对于 $\varepsilon = \frac{1}{2}$，应该存在 $N$，使得当 $n > N$ 时，$|(-1)^n - a| < \frac{1}{2}$。</p>
                        
                        <p>但是当 $n$ 为奇数时，$|(-1)^n - a| = |-1 - a|$；当 $n$ 为偶数时，$|(-1)^n - a| = |1 - a|$。</p>
                        
                        <p>这两个值不可能同时小于 $\frac{1}{2}$，矛盾。因此数列发散。</p>
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题2 <span class="difficulty hard">较难</span></h4>
                    <p>设数列 $\{x_n\}$ 满足：$x_1 = \frac{1}{2}$，$x_{n+1} = \frac{1}{2}x_n + \frac{1}{4}$。证明数列 $\{x_n\}$ 收敛，并求其极限。</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        
                        <p><strong>第一步：先求极限值</strong></p>
                        <p>假设 $\lim_{n \to \infty} x_n = L$ 存在，则 $\lim_{n \to \infty} x_{n+1} = L$。</p>
                        <p>对递推关系取极限：</p>
                        $$L = \frac{1}{2}L + \frac{1}{4}$$
                        <p>解得：$L = \frac{1}{2}$</p>
                        
                        <p><strong>第二步：证明数列单调性</strong></p>
                        <p>考虑 $x_{n+1} - x_n = \frac{1}{2}x_n + \frac{1}{4} - x_n = \frac{1}{4} - \frac{1}{2}x_n = \frac{1}{4}(1 - 2x_n)$</p>
                        
                        <p>先证明 $x_n < \frac{1}{2}$（用数学归纳法）：</p>
                        <ul>
                            <li>$n = 1$：$x_1 = \frac{1}{2}$，不严格小于，但我们可以考虑 $x_n \leq \frac{1}{2}$</li>
                            <li>假设 $x_k \leq \frac{1}{2}$，则 $x_{k+1} = \frac{1}{2}x_k + \frac{1}{4} \leq \frac{1}{2} \cdot \frac{1}{2} + \frac{1}{4} = \frac{1}{2}$</li>
                        </ul>
                        
                        <p>实际上，当 $x_n < \frac{1}{2}$ 时，$x_{n+1} - x_n = \frac{1}{4}(1 - 2x_n) > 0$，所以数列单调递增。</p>
                        
                        <p><strong>第三步：证明数列有界</strong></p>
                        <p>由上面的证明，$x_n \leq \frac{1}{2}$ 对所有 $n$ 成立，且 $x_n > 0$，所以数列有界。</p>
                        
                        <p><strong>第四步：应用单调有界定理</strong></p>
                        <p>由于数列单调递增且有上界 $\frac{1}{2}$，根据单调有界定理，数列收敛。</p>
                        <p>结合第一步的计算，$\lim_{n \to \infty} x_n = \frac{1}{2}$。</p>
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题3 <span class="difficulty very-hard">很难</span></h4>
                    <p>设数列 $\{a_n\}$ 和 $\{b_n\}$ 满足：$\lim_{n \to \infty} a_n = A$，$\lim_{n \to \infty} b_n = B$，且对所有 $n$，有 $a_n \leq b_n$。证明：$A \leq B$。</p>
                    
                    <div class="solution">
                        <div class="solution-header">证明：</div>
                        
                        <p><strong>方法：</strong>用反证法。</p>
                        
                        <p><strong>假设：</strong>$A > B$，即 $A - B > 0$。</p>
                        
                        <p><strong>分析：</strong>由于 $\lim_{n \to \infty} a_n = A$，$\lim_{n \to \infty} b_n = B$，</p>
                        <p>取 $\varepsilon = \frac{A - B}{2} > 0$，则：</p>
                        
                        <p><strong>对于数列 $\{a_n\}$：</strong>存在 $N_1$，当 $n > N_1$ 时，</p>
                        $$|a_n - A| < \frac{A - B}{2}$$
                        <p>即 $A - \frac{A - B}{2} < a_n < A + \frac{A - B}{2}$</p>
                        <p>所以 $a_n > A - \frac{A - B}{2} = \frac{A + B}{2}$</p>
                        
                        <p><strong>对于数列 $\{b_n\}$：</strong>存在 $N_2$，当 $n > N_2$ 时，</p>
                        $$|b_n - B| < \frac{A - B}{2}$$
                        <p>即 $B - \frac{A - B}{2} < b_n < B + \frac{A - B}{2}$</p>
                        <p>所以 $b_n < B + \frac{A - B}{2} = \frac{A + B}{2}$</p>
                        
                        <p><strong>得出矛盾：</strong>取 $N = \max\{N_1, N_2\}$，当 $n > N$ 时：</p>
                        $$a_n > \frac{A + B}{2} > b_n$$
                        
                        <p>这与条件 $a_n \leq b_n$ 矛盾。</p>
                        
                        <p><strong>结论：</strong>假设不成立，因此 $A \leq B$。</p>
                        
                        <div class="highlight">
                            <p><strong>注意：</strong>这个结果说明极限运算保持不等号，但等号可能变为严格不等号。例如：$a_n = 0$，$b_n = \frac{1}{n}$，有 $a_n < b_n$，但 $\lim a_n = \lim b_n = 0$。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="nav-buttons">
            <a href="1.1.html" class="btn prev">上一节：1.1 映射与函数</a>
            <a href="1.3.html" class="btn next">下一节：1.3 函数的极限</a>
        </div>
        
        <footer>
            <p>&copy; 2025 高等数学复习系统 - 数列与极限</p>
        </footer>
    </div>

    <script>
        // 数列极限演示
        function createSequenceLimitDemo() {
            const plotDiv = document.getElementById('sequence-plot');
            const sequenceTypeSelect = document.getElementById('sequence-type');
            const nTermsSlider = document.getElementById('n-terms');
            const epsilonSlider = document.getElementById('epsilon-demo');
            const termsDisplay = document.getElementById('terms-display');
            const epsilonDisplay = document.getElementById('epsilon-demo-display');
            
            function getSequenceValue(n, type) {
                switch(type) {
                    case 'convergent':
                        return 1 / n;
                    case 'arithmetic':
                        return 2 * n + 1;
                    case 'geometric':
                        return Math.pow(0.5, n);
                    case 'oscillating':
                        return Math.pow(-1, n) / n;
                    case 'fibonacci':
                        if (n <= 2) return 1;
                        let a = 1, b = 1, temp;
                        for (let i = 3; i <= n; i++) {
                            temp = a + b;
                            a = b;
                            b = temp;
                        }
                        return b / Math.pow(1.618, n); // 归一化显示
                    default:
                        return 1 / n;
                }
            }
            
            function getSequenceLimit(type) {
                switch(type) {
                    case 'convergent':
                        return 0;
                    case 'arithmetic':
                        return null; // 发散到无穷
                    case 'geometric':
                        return 0;
                    case 'oscillating':
                        return 0;
                    case 'fibonacci':
                        return 0.618; // φ^(-1)
                    default:
                        return 0;
                }
            }
            
            function updatePlot() {
                const sequenceType = sequenceTypeSelect.value;
                const nTerms = parseInt(nTermsSlider.value);
                const epsilon = parseFloat(epsilonSlider.value);
                const limit = getSequenceLimit(sequenceType);
                
                termsDisplay.textContent = nTerms;
                epsilonDisplay.textContent = epsilon.toFixed(2);
                
                // 生成数列项
                const nValues = [];
                const xnValues = [];
                
                for (let n = 1; n <= nTerms; n++) {
                    nValues.push(n);
                    const value = getSequenceValue(n, sequenceType);
                    if (sequenceType === 'arithmetic') {
                        xnValues.push(Math.min(value, 50)); // 限制显示范围
                    } else {
                        xnValues.push(value);
                    }
                }
                
                const traces = [];
                
                // 数列点
                traces.push({
                    x: nValues,
                    y: xnValues,
                    mode: 'markers',
                    name: '数列项',
                    marker: {
                        color: '#3498db',
                        size: 8,
                        symbol: 'circle'
                    }
                });
                
                // 连接线
                traces.push({
                    x: nValues,
                    y: xnValues,
                    mode: 'lines',
                    name: '趋势线',
                    line: {
                        color: '#3498db',
                        width: 1,
                        dash: 'dot'
                    },
                    opacity: 0.6
                });
                
                // 极限线和ε带（仅对收敛数列）
                if (limit !== null && sequenceType !== 'arithmetic') {
                    traces.push({
                        x: [1, nTerms],
                        y: [limit, limit],
                        mode: 'lines',
                        name: `极限 L = ${limit}`,
                        line: {
                            color: '#e74c3c',
                            width: 3
                        }
                    });
                    
                    traces.push({
                        x: [1, nTerms],
                        y: [limit + epsilon, limit + epsilon],
                        mode: 'lines',
                        name: `L + ε = ${(limit + epsilon).toFixed(2)}`,
                        line: {
                            color: '#f39c12',
                            width: 2,
                            dash: 'dash'
                        }
                    });
                    
                    traces.push({
                        x: [1, nTerms],
                        y: [limit - epsilon, limit - epsilon],
                        mode: 'lines',
                        name: `L - ε = ${(limit - epsilon).toFixed(2)}`,
                        line: {
                            color: '#f39c12',
                            width: 2,
                            dash: 'dash'
                        }
                    });
                }
                
                const layout = {
                    title: `数列极限演示: ${getSequenceName(sequenceType)}`,
                    xaxis: { 
                        title: 'n',
                        range: [0, nTerms + 1]
                    },
                    yaxis: { 
                        title: 'xₙ',
                        zeroline: true
                    },
                    showlegend: true,
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)',
                    margin: {
                        l: 60,
                        r: 40,
                        b: 60,
                        t: 80,
                        pad: 4
                    },
                    font: { 
                        family: 'Microsoft YaHei', 
                        size: 12 
                    }
                };
                
                // 动态调整y轴范围
                if (sequenceType === 'arithmetic') {
                    layout.yaxis.range = [0, 50];
                } else if (limit !== null) {
                    layout.yaxis.range = [limit - 2*epsilon - 0.5, limit + 2*epsilon + 0.5];
                }
                
                Plotly.newPlot(plotDiv, traces, layout, {responsive: true});
            }
            
            function getSequenceName(type) {
                switch(type) {
                    case 'convergent':
                        return 'xₙ = 1/n → 0';
                    case 'arithmetic':
                        return 'xₙ = 2n + 1 → +∞';
                    case 'geometric':
                        return 'xₙ = (1/2)ⁿ → 0';
                    case 'oscillating':
                        return 'xₙ = (-1)ⁿ/n → 0';
                    case 'fibonacci':
                        return '斐波那契比值 → φ⁻¹';
                    default:
                        return '数列';
                }
            }
            
            // 事件监听器
            sequenceTypeSelect.addEventListener('change', updatePlot);
            nTermsSlider.addEventListener('input', updatePlot);
            epsilonSlider.addEventListener('input', updatePlot);
            
            // 初始化
            updatePlot();
        }
        
        // 收敛性质可视化
        function createConvergencePropertiesVisualization() {
            const plotDiv = document.getElementById('convergence-properties-plot');
            
            // 演示收敛数列的有界性和子数列性质
            const nValues = [];
            const convergentSeq = []; // 收敛数列 1/n
            const boundedDivergent = []; // 有界发散数列 (-1)^n
            const oddSubseq = []; // 奇数子列
            const evenSubseq = []; // 偶数子列
            
            for (let n = 1; n <= 50; n++) {
                nValues.push(n);
                convergentSeq.push(1 / n);
                boundedDivergent.push(Math.pow(-1, n));
                
                if (n % 2 === 1) {
                    oddSubseq.push(1 / n); // 对应奇数项
                } else {
                    oddSubseq.push(null);
                }
                
                if (n % 2 === 0) {
                    evenSubseq.push(1 / n); // 对应偶数项
                } else {
                    evenSubseq.push(null);
                }
            }
            
            const traces = [
                {
                    x: nValues,
                    y: convergentSeq,
                    mode: 'lines+markers',
                    name: '收敛数列 1/n',
                    line: { color: '#3498db', width: 2 },
                    marker: { size: 4 }
                },
                {
                    x: nValues,
                    y: boundedDivergent,
                    mode: 'lines+markers',
                    name: '有界发散数列 (-1)ⁿ',
                    line: { color: '#e74c3c', width: 2 },
                    marker: { size: 4 }
                },
                {
                    x: nValues,
                    y: oddSubseq,
                    mode: 'markers',
                    name: '奇数项子列',
                    marker: { 
                        color: '#27ae60', 
                        size: 8,
                        symbol: 'square'
                    }
                },
                {
                    x: nValues,
                    y: evenSubseq,
                    mode: 'markers',
                    name: '偶数项子列',
                    marker: { 
                        color: '#f39c12', 
                        size: 8,
                        symbol: 'diamond'
                    }
                },
                {
                    x: [1, 50],
                    y: [0, 0],
                    mode: 'lines',
                    name: '极限线 y = 0',
                    line: {
                        color: '#34495e',
                        width: 2,
                        dash: 'dash'
                    }
                }
            ];
            
            const layout = {
                title: '收敛数列的性质演示',
                xaxis: { 
                    title: 'n',
                    range: [0, 50]
                },
                yaxis: { 
                    title: 'xₙ',
                    range: [-1.5, 1.5],
                    zeroline: true
                },
                showlegend: true,
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { 
                    family: 'Microsoft YaHei', 
                    size: 12 
                }
            };
            
            Plotly.newPlot(plotDiv, traces, layout, {responsive: true});
        }
        
        // 页面加载动画
        function initializeAnimations() {
            const contentSections = document.querySelectorAll('.content-section');
            if (contentSections.length > 0 && typeof gsap !== 'undefined') {
                gsap.from('.content-section', {
                    duration: 0.8,
                    y: 30,
                    opacity: 0,
                    stagger: 0.2,
                    ease: "power2.out"
                });
            }
            
            const sequenceCards = document.querySelectorAll('.sequence-card');
            if (sequenceCards.length > 0 && typeof gsap !== 'undefined') {
                gsap.from('.sequence-card', {
                    duration: 0.6,
                    scale: 0.8,
                    opacity: 0,
                    stagger: 0.1,
                    delay: 1,
                    ease: "back.out(1.7)"
                });
            }
        }
        
        // 滚动触发动画
        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && typeof gsap !== 'undefined') {
                        gsap.from(entry.target.querySelectorAll('.definition, .theorem, .example, .practice-problem'), {
                            duration: 0.6,
                            y: 20,
                            opacity: 0,
                            stagger: 0.1,
                            ease: "power2.out"
                        });
                    }
                });
            }, { threshold: 0.2 });
            
            document.querySelectorAll('.content-section').forEach(section => {
                observer.observe(section);
            });
        }
        
        // 数列类型卡片交互效果
        function setupSequenceCardInteractions() {
            const sequenceCards = document.querySelectorAll('.sequence-card');
            sequenceCards.forEach((card) => {
                card.addEventListener('mouseenter', function() {
                    if (typeof gsap !== 'undefined') {
                        gsap.to(this, {
                            duration: 0.3,
                            scale: 1.05,
                            boxShadow: '0 8px 25px rgba(52, 152, 219, 0.4)'
                        });
                    }
                });
                
                card.addEventListener('mouseleave', function() {
                    if (typeof gsap !== 'undefined') {
                        gsap.to(this, {
                            duration: 0.3,
                            scale: 1,
                            boxShadow: '0 0px 0px rgba(52, 152, 219, 0)'
                        });
                    }
                });
            });
        }
        
        // 页面加载时初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 延迟执行以确保DOM完全加载
            setTimeout(() => {
                createSequenceLimitDemo();
                createConvergencePropertiesVisualization();
                initializeAnimations();
                setupScrollAnimations();
                setupSequenceCardInteractions();
                
                // 确保 sequence-types 内容正确显示
                const sequenceTypes = document.querySelectorAll('.sequence-types');
                sequenceTypes.forEach(container => {
                    container.style.display = 'grid';
                    container.style.visibility = 'visible';
                    
                    const cards = container.querySelectorAll('.sequence-card');
                    cards.forEach(card => {
                        card.style.display = 'block';
                        card.style.visibility = 'visible';
                        card.style.opacity = '1';
                        
                        // 确保内部元素也可见
                        const h5 = card.querySelector('h5');
                        const mathExpr = card.querySelector('.math-expression');
                        const p = card.querySelector('p');
                        
                        if (h5) {
                            h5.style.display = 'block';
                            h5.style.visibility = 'visible';
                        }
                        if (mathExpr) {
                            mathExpr.style.display = 'block';
                            mathExpr.style.visibility = 'visible';
                        }
                        if (p) {
                            p.style.display = 'block';
                            p.style.visibility = 'visible';
                        }
                    });
                });
                
                // 强制MathJax重新渲染sequence-card中的数学表达式
                if (typeof MathJax !== 'undefined') {
                    MathJax.typesetPromise(document.querySelectorAll('.sequence-card')).then(() => {
                        console.log('MathJax rendered sequence cards successfully');
                    }).catch((err) => {
                        console.log('MathJax rendering error:', err);
                    });
                }
            }, 500);
            
            // MathJax 加载完成后的回调
            if (typeof MathJax !== 'undefined') {
                MathJax.startup.promise.then(() => {
                    console.log('MathJax loaded successfully');
                });
            }
        });
    </script>
</body>
</html>
