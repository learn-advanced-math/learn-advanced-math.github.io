<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="alternate icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9IiMzNDk4ZGIiIHN0cm9rZT0iIzJjM2U1MCIgc3Ryb2tlLXdpZHRoPSIyIi8+PGcgZmlsbD0id2hpdGUiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiPjx0ZXh0IHg9IjE2IiB5PSIxMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMiI+ZDwvdGV4dD48bGluZSB4MT0iOCIgeTE9IjE2IiB4Mj0iMjQiIHkyPSIxNiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48dGV4dCB4PSIxNiIgeT0iMjUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTAiPmR4PC90ZXh0PjwvZz48L3N2Zz4=">
    <title>8.4 空间直线及其方程 - 高等数学复习</title>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']]
            },
            chtml: {
                fontURL: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            margin-bottom: 20px;
            color: #16a085;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .back-link:hover {
            color: #138d75;
            transform: translateX(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }
        
        .back-link::before {
            content: '←';
            margin-right: 8px;
            font-size: 1.2em;
        }
        
        header {
            background: linear-gradient(135deg, #16a085 0%, #138d75 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5em;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: 300;
        }
        
        .subtitle {
            font-size: 1.1em;
            margin-top: 10px;
            opacity: 0.9;
        }
        
        .content-section {
            background: white;
            margin: 25px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .content-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .section-header {
            padding: 20px 30px;
            background: linear-gradient(45deg, #16a085, #138d75);
            color: white;
        }
        
        .section-header h2 {
            margin: 0;
            font-size: 1.6em;
            font-weight: 400;
        }
        
        .section-content {
            padding: 30px;
        }
        
        .definition {
            background: linear-gradient(135deg, #e8f8f5, #d5f4e6);
            border-left: 5px solid #16a085;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(22, 160, 133, 0.1);
        }
        
        .definition h4 {
            margin: 0 0 15px 0;
            color: #16a085;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .theorem {
            background: linear-gradient(135deg, #fef9e7, #fcf4dd);
            border-left: 5px solid #f39c12;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(243, 156, 18, 0.1);
        }
        
        .theorem h4 {
            margin: 0 0 15px 0;
            color: #f39c12;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .example {
            background: linear-gradient(135deg, #eaf2ff, #dde7f0);
            border-left: 5px solid #3498db;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(52, 152, 219, 0.1);
        }
        
        .example h4 {
            margin: 0 0 15px 0;
            color: #3498db;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .practice-problem {
            background: linear-gradient(135deg, #fdf2e9, #fbeee0);
            border-left: 5px solid #e67e22;
            padding: 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 3px 15px rgba(230, 126, 34, 0.1);
        }
        
        .practice-problem h4 {
            margin: 0 0 15px 0;
            color: #e67e22;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .difficulty {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 500;
            margin-left: 10px;
        }
        
        .difficulty.medium {
            background: #f39c12;
            color: white;
        }
        
        .difficulty.hard {
            background: #e74c3c;
            color: white;
        }
        
        .difficulty.very-hard {
            background: #8e44ad;
            color: white;
        }
        
        .solution {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #bdc3c7;
        }
        
        .solution-header {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .viz-container {
            width: 100%;
            height: 500px;
            margin: 25px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .interactive-demo {
            width: 100%;
            height: auto;
            min-height: 550px;
            margin: 25px 0;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            padding: 20px;
            position: relative;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .controls label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #16a085;
        }
        
        .controls input, .controls select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            padding: 20px 0;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 25px;
            background: linear-gradient(45deg, #16a085, #138d75);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 3px 15px rgba(22, 160, 133, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(22, 160, 133, 0.4);
        }
        
        .btn.prev::before {
            content: '←';
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        .btn.next::after {
            content: '→';
            margin-left: 8px;
            font-size: 1.1em;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 30px 0;
            opacity: 0.9;
            margin-top: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        footer p {
            text-align: center;
            margin: 0;
        }
        
        .math-expression {
            text-align: center;
            margin: 15px 0;
            font-size: 1.1em;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .highlight {
            background: linear-gradient(135deg, #d5f4e6, #a9dfbf);
            padding: 15px;
            border-left: 4px solid #16a085;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }
        
        .line-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .line-card {
            background: linear-gradient(135deg, #a8e6cf 0%, #88d8a3 50%, #7fcdcd 100%);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(22, 160, 133, 0.3);
            text-align: center;
        }
        
        .line-card h5 {
            color: #138d75;
            font-size: 1.2em;
            margin-bottom: 15px;
        }
        
        .line-card .equation {
            font-size: 1.1em;
            margin: 15px 0;
            color: #2c3e50;
        }

        /* AI提示方块样式 */
        .ai-warning {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 2px solid #e0e0e0;
        }
        
        .ai-warning:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            border-color: #ff4444;
        }
        
        .ai-warning::before {
            content: '!';
            color: #e74c3c;
            font-size: 20px;
            font-weight: bold;
            font-family: Arial, sans-serif;
        }
        
        .ai-warning-tooltip {
            position: absolute;
            top: 50px;
            left: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 16px 20px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.5;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1001;
            width: 250px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .ai-warning-tooltip::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(0, 0, 0, 0.9);
        }
        
        .ai-warning:hover .ai-warning-tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .section-content {
                padding: 20px;
            }
            
            .definition, .theorem, .example {
                padding: 20px;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }

            .ai-warning {
                width: 35px;
                height: 35px;
                top: 15px;
                left: 15px;
            }
            
            .ai-warning::before {
                font-size: 18px;
            }
            
            .ai-warning-tooltip {
                width: 280px;
                font-size: 13px;
                padding: 14px 18px;
            }
        }
    </style>
</head>
<body>
    <!-- AI内容提示 -->
    <div class="ai-warning">
        <div class="ai-warning-tooltip">
            页面内容由AI生成，请谨慎对待。<br>如发现错误，欢迎反馈。
        </div>
    </div>
    
    <div class="container">
        <a href="../index.html" class="back-link">返回章节概览</a>
        
        <header>
            <h1>8.4 空间直线及其方程</h1>
            <div class="subtitle">Spatial Lines and Their Equations</div>
        </header>
        
        <!-- 8.4.1 空间直线的各种方程形式 -->
        <div class="content-section">
            <div class="section-header">
                <h2>8.4.1 空间直线的方程形式</h2>
            </div>
            <div class="section-content">
                <div class="definition">
                    <h4>空间直线的一般方程</h4>
                    <p>空间直线可以看作两个平面的交线，因此可以用两个平面方程的联立来表示：</p>
                    <div class="math-expression">
                        $$\begin{cases}
                        A_1x + B_1y + C_1z + D_1 = 0 \\
                        A_2x + B_2y + C_2z + D_2 = 0
                        \end{cases}$$
                    </div>
                    <p>其中 $(A_1, B_1, C_1)$ 和 $(A_2, B_2, C_2)$ 分别是两个平面的法向量，且不平行。</p>
                </div>
                
                <div class="definition">
                    <h4>空间直线的点向式方程（对称式方程）</h4>
                    <p>设直线通过点 $M_0(x_0, y_0, z_0)$，方向向量为 $\vec{s} = (m, n, p)$，则直线的点向式方程为：</p>
                    <div class="math-expression">
                        $$\frac{x - x_0}{m} = \frac{y - y_0}{n} = \frac{z - z_0}{p}$$
                    </div>
                    <p>其中 $m, n, p$ 不全为零，称为直线的<strong>方向数</strong>。</p>
                </div>
                
                <div class="definition">
                    <h4>空间直线的参数方程</h4>
                    <p>设直线通过点 $M_0(x_0, y_0, z_0)$，方向向量为 $\vec{s} = (m, n, p)$，则参数方程为：</p>
                    <div class="math-expression">
                        $$\begin{cases}
                        x = x_0 + mt \\
                        y = y_0 + nt \\
                        z = z_0 + pt
                        \end{cases}$$
                    </div>
                    <p>其中 $t$ 是参数，$t \in (-\infty, +\infty)$。</p>
                </div>
                
                <div class="line-types">
                    <div class="line-card">
                        <h5>一般方程</h5>
                        <div class="equation">两平面交线</div>
                        <p>适用于由两个平面确定直线的情况</p>
                    </div>
                    <div class="line-card">
                        <h5>点向式方程</h5>
                        <div class="equation">对称式表示</div>
                        <p>适用于已知直线上一点和方向向量的情况</p>
                    </div>
                    <div class="line-card">
                        <h5>参数方程</h5>
                        <div class="equation">参数化表示</div>
                        <p>最常用的形式，便于计算和理解</p>
                    </div>
                </div>
                
                <div class="highlight">
                    <p><strong>方程之间的转换：</strong></p>
                    <ul>
                        <li><strong>一般方程 → 参数方程：</strong>通过求解方程组，找到一个特解和基础解系</li>
                        <li><strong>参数方程 → 点向式方程：</strong>消去参数 $t$</li>
                        <li><strong>点向式方程 → 一般方程：</strong>构造包含直线的两个平面</li>
                    </ul>
                </div>
                
                <div class="example">
                    <h4>例1：方程形式的转换</h4>
                    <p>将直线的一般方程 $\begin{cases} x + y - z - 1 = 0 \\ 2x - y + z - 4 = 0 \end{cases}$ 化为参数方程。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>步骤1：</strong>求直线的方向向量</p>
                        <p>两平面的法向量分别为 $\vec{n_1} = (1, 1, -1)$ 和 $\vec{n_2} = (2, -1, 1)$</p>
                        <p>直线的方向向量 $\vec{s} = \vec{n_1} \times \vec{n_2}$：</p>
                        $$\vec{s} = \begin{vmatrix}
                        \vec{i} & \vec{j} & \vec{k} \\
                        1 & 1 & -1 \\
                        2 & -1 & 1
                        \end{vmatrix} = (0, -3, -3)$$
                        <p>取 $\vec{s} = (0, 1, 1)$</p>
                        
                        <p><strong>步骤2：</strong>求直线上一点</p>
                        <p>令 $z = 0$，得到：$\begin{cases} x + y = 1 \\ 2x - y = 4 \end{cases}$</p>
                        <p>解得：$x = \frac{5}{3}, y = -\frac{2}{3}$，所以直线过点 $(\frac{5}{3}, -\frac{2}{3}, 0)$</p>
                        
                        <p><strong>步骤3：</strong>写出参数方程</p>
                        $$\begin{cases}
                        x = \frac{5}{3} \\
                        y = -\frac{2}{3} + t \\
                        z = t
                        \end{cases}$$
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 8.4.2 两直线的位置关系 -->
        <div class="content-section">
            <div class="section-header">
                <h2>8.4.2 两直线的位置关系</h2>
            </div>
            <div class="section-content">
                <div class="theorem">
                    <h4>两直线的夹角</h4>
                    <p>设两直线的方向向量分别为 $\vec{s_1} = (m_1, n_1, p_1)$ 和 $\vec{s_2} = (m_2, n_2, p_2)$，则两直线的夹角 $\theta$ 满足：</p>
                    <div class="math-expression">
                        $$\cos \theta = \frac{|\vec{s_1} \cdot \vec{s_2}|}{|\vec{s_1}| \cdot |\vec{s_2}|} = \frac{|m_1m_2 + n_1n_2 + p_1p_2|}{\sqrt{m_1^2 + n_1^2 + p_1^2} \cdot \sqrt{m_2^2 + n_2^2 + p_2^2}}$$
                    </div>
                    <p>注意：这里取绝对值是因为直线的夹角定义为锐角。</p>
                </div>
                
                <div class="definition">
                    <h4>两直线的位置关系判定</h4>
                    <p>设两直线 $L_1$ 和 $L_2$ 的方向向量分别为 $\vec{s_1}$ 和 $\vec{s_2}$：</p>
                    <ul>
                        <li><strong>平行：</strong>$\vec{s_1} \parallel \vec{s_2}$，即 $\vec{s_1} = k\vec{s_2}$（$k \neq 0$）</li>
                        <li><strong>垂直：</strong>$\vec{s_1} \perp \vec{s_2}$，即 $\vec{s_1} \cdot \vec{s_2} = 0$</li>
                        <li><strong>相交：</strong>两直线不平行且共面</li>
                        <li><strong>异面：</strong>两直线不平行且不共面</li>
                    </ul>
                    
                    <div class="highlight">
                        <p><strong>异面直线的判定：</strong>设直线 $L_1$ 过点 $M_1$，方向向量为 $\vec{s_1}$；直线 $L_2$ 过点 $M_2$，方向向量为 $\vec{s_2}$。两直线异面的充要条件是：</p>
                        $$(\overrightarrow{M_1M_2}, \vec{s_1}, \vec{s_2}) \neq 0$$
                        <p>其中 $(\overrightarrow{M_1M_2}, \vec{s_1}, \vec{s_2})$ 表示混合积。</p>
                    </div>
                </div>
                
                <div class="example">
                    <h4>例2：异面直线间的距离</h4>
                    <p>求异面直线 $L_1: \frac{x-1}{2} = \frac{y}{1} = \frac{z+1}{1}$ 和 $L_2: \frac{x-3}{1} = \frac{y-1}{-1} = \frac{z}{2}$ 之间的距离。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>步骤1：</strong>确定直线信息</p>
                        <p>$L_1$ 过点 $M_1(1, 0, -1)$，方向向量 $\vec{s_1} = (2, 1, 1)$</p>
                        <p>$L_2$ 过点 $M_2(3, 1, 0)$，方向向量 $\vec{s_2} = (1, -1, 2)$</p>
                        
                        <p><strong>步骤2：</strong>验证两直线异面</p>
                        <p>$\overrightarrow{M_1M_2} = (2, 1, 1)$</p>
                        <p>计算混合积：</p>
                        $$(\overrightarrow{M_1M_2}, \vec{s_1}, \vec{s_2}) = \begin{vmatrix}
                        2 & 1 & 1 \\
                        2 & 1 & 1 \\
                        1 & -1 & 2
                        \end{vmatrix} = 0$$
                        <p>由于混合积为零，实际上两直线是相交的。</p>
                        
                        <p><strong>步骤3：</strong>计算距离公式</p>
                        <p>异面直线间的距离公式：</p>
                        $$d = \frac{|(\overrightarrow{M_1M_2}, \vec{s_1}, \vec{s_2})|}{|\vec{s_1} \times \vec{s_2}|}$$
                        
                        <p>重新计算：$\overrightarrow{M_1M_2} = (3-1, 1-0, 0-(-1)) = (2, 1, 1)$</p>
                        
                        <p>$\vec{s_1} \times \vec{s_2} = \begin{vmatrix}
                        \vec{i} & \vec{j} & \vec{k} \\
                        2 & 1 & 1 \\
                        1 & -1 & 2
                        \end{vmatrix} = (3, -3, -3)$</p>
                        
                        <p>$|\vec{s_1} \times \vec{s_2}| = \sqrt{9 + 9 + 9} = 3\sqrt{3}$</p>
                        
                        <p>混合积：$(2, 1, 1) \cdot (3, -3, -3) = 6 - 3 - 3 = 0$</p>
                        
                        <p>所以距离 $d = \frac{0}{3\sqrt{3}} = 0$，这说明两直线实际相交。</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 8.4.3 直线与平面的关系 -->
        <div class="content-section">
            <div class="section-header">
                <h2>8.4.3 直线与平面的关系</h2>
            </div>
            <div class="section-content">
                <div class="theorem">
                    <h4>直线与平面的夹角</h4>
                    <p>设直线的方向向量为 $\vec{s} = (m, n, p)$，平面的法向量为 $\vec{n} = (A, B, C)$，则直线与平面的夹角 $\theta$ 满足：</p>
                    <div class="math-expression">
                        $$\sin \theta = \frac{|\vec{s} \cdot \vec{n}|}{|\vec{s}| \cdot |\vec{n}|} = \frac{|Am + Bn + Cp|}{\sqrt{m^2 + n^2 + p^2} \cdot \sqrt{A^2 + B^2 + C^2}}$$
                    </div>
                    <p>注意：直线与平面的夹角是指直线与其在平面上的投影的夹角。</p>
                </div>
                
                <div class="definition">
                    <h4>直线与平面的位置关系</h4>
                    <p>设直线方向向量为 $\vec{s}$，平面法向量为 $\vec{n}$：</p>
                    <ul>
                        <li><strong>直线平行于平面：</strong>$\vec{s} \perp \vec{n}$，即 $\vec{s} \cdot \vec{n} = 0$</li>
                        <li><strong>直线垂直于平面：</strong>$\vec{s} \parallel \vec{n}$，即 $\vec{s} = k\vec{n}$</li>
                        <li><strong>直线与平面相交：</strong>既不平行也不垂直</li>
                    </ul>
                </div>
                
                <div class="definition">
                    <h4>点到直线的距离</h4>
                    <p>设点 $P(x_0, y_0, z_0)$，直线过点 $M(x_1, y_1, z_1)$，方向向量为 $\vec{s}$，则点到直线的距离为：</p>
                    <div class="math-expression">
                        $$d = \frac{|\overrightarrow{MP} \times \vec{s}|}{|\vec{s}|}$$
                    </div>
                    <p>其中 $\overrightarrow{MP} = (x_0 - x_1, y_0 - y_1, z_0 - z_1)$</p>
                </div>
                
                <div class="highlight">
                    <p><strong>平面束的概念：</strong>通过一条直线的所有平面构成一个平面束。如果直线是两平面 $\pi_1$ 和 $\pi_2$ 的交线，则通过该直线的平面束方程为：</p>
                    $$\lambda \pi_1 + \mu \pi_2 = 0$$
                    <p>其中 $\lambda$ 和 $\mu$ 不同时为零的常数。</p>
                </div>
            </div>
        </div>
        
        <!-- 习题练习 -->
        <div class="content-section">
            <div class="section-header">
                <h2>练习题</h2>
            </div>
            <div class="section-content">
                <div class="practice-problem">
                    <h4>习题1 <span class="difficulty medium">中等难度</span></h4>
                    <p>求过点 $A(1, 2, 3)$ 且与直线 $\frac{x-2}{1} = \frac{y+1}{2} = \frac{z}{-1}$ 平行的直线方程。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p>由于所求直线与已知直线平行，所以它们的方向向量相同。</p>
                        <p>已知直线的方向向量为 $\vec{s} = (1, 2, -1)$</p>
                        <p>所求直线过点 $A(1, 2, 3)$，方向向量为 $\vec{s} = (1, 2, -1)$</p>
                        
                        <p><strong>点向式方程：</strong></p>
                        $$\frac{x-1}{1} = \frac{y-2}{2} = \frac{z-3}{-1}$$
                        
                        <p><strong>参数方程：</strong></p>
                        $$\begin{cases}
                        x = 1 + t \\
                        y = 2 + 2t \\
                        z = 3 - t
                        \end{cases}$$
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题2 <span class="difficulty hard">较难</span></h4>
                    <p>求直线 $L_1: \frac{x-1}{2} = \frac{y+1}{1} = \frac{z-2}{3}$ 与直线 $L_2: \frac{x+1}{1} = \frac{y-2}{-1} = \frac{z+3}{2}$ 的夹角。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>步骤1：</strong>确定两直线的方向向量</p>
                        <p>$L_1$ 的方向向量：$\vec{s_1} = (2, 1, 3)$</p>
                        <p>$L_2$ 的方向向量：$\vec{s_2} = (1, -1, 2)$</p>
                        
                        <p><strong>步骤2：</strong>计算方向向量的数量积</p>
                        $$\vec{s_1} \cdot \vec{s_2} = 2 \times 1 + 1 \times (-1) + 3 \times 2 = 2 - 1 + 6 = 7$$
                        
                        <p><strong>步骤3：</strong>计算方向向量的模</p>
                        $$|\vec{s_1}| = \sqrt{2^2 + 1^2 + 3^2} = \sqrt{4 + 1 + 9} = \sqrt{14}$$
                        $$|\vec{s_2}| = \sqrt{1^2 + (-1)^2 + 2^2} = \sqrt{1 + 1 + 4} = \sqrt{6}$$
                        
                        <p><strong>步骤4：</strong>计算夹角</p>
                        $$\cos \theta = \frac{|\vec{s_1} \cdot \vec{s_2}|}{|\vec{s_1}| \cdot |\vec{s_2}|} = \frac{|7|}{\sqrt{14} \cdot \sqrt{6}} = \frac{7}{\sqrt{84}} = \frac{7}{2\sqrt{21}} = \frac{\sqrt{21}}{6}$$
                        
                        <p>因此，两直线的夹角为 $\theta = \arccos\frac{\sqrt{21}}{6}$</p>
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>习题3 <span class="difficulty very-hard">很难</span></h4>
                    <p>求点 $P(2, 1, -1)$ 到直线 $L: \begin{cases} x + y - z = 3 \\ 2x - y + z = 1 \end{cases}$ 的距离。</p>
                    
                    <div class="solution">
                        <div class="solution-header">解：</div>
                        <p><strong>步骤1：</strong>将一般方程化为参数方程</p>
                        <p>两平面的法向量分别为 $\vec{n_1} = (1, 1, -1)$ 和 $\vec{n_2} = (2, -1, 1)$</p>
                        <p>直线的方向向量：</p>
                        $$\vec{s} = \vec{n_1} \times \vec{n_2} = \begin{vmatrix}
                        \vec{i} & \vec{j} & \vec{k} \\
                        1 & 1 & -1 \\
                        2 & -1 & 1
                        \end{vmatrix} = (0, -3, -3)$$
                        <p>取 $\vec{s} = (0, 1, 1)$</p>
                        
                        <p><strong>步骤2：</strong>求直线上一点</p>
                        <p>令 $y = 0$，得到：$\begin{cases} x - z = 3 \\ 2x + z = 1 \end{cases}$</p>
                        <p>解得：$x = \frac{4}{3}, z = -\frac{5}{3}$，所以直线过点 $M(\frac{4}{3}, 0, -\frac{5}{3})$</p>
                        
                        <p><strong>步骤3：</strong>计算点到直线的距离</p>
                        <p>$\overrightarrow{MP} = (2 - \frac{4}{3}, 1 - 0, -1 - (-\frac{5}{3})) = (\frac{2}{3}, 1, \frac{2}{3})$</p>
                        
                        <p>计算叉积：</p>
                        $$\overrightarrow{MP} \times \vec{s} = \begin{vmatrix}
                        \vec{i} & \vec{j} & \vec{k} \\
                        \frac{2}{3} & 1 & \frac{2}{3} \\
                        0 & 1 & 1
                        \end{vmatrix} = (\frac{1}{3}, -\frac{2}{3}, \frac{2}{3})$$
                        
                        <p>$|\overrightarrow{MP} \times \vec{s}| = \sqrt{(\frac{1}{3})^2 + (-\frac{2}{3})^2 + (\frac{2}{3})^2} = \sqrt{\frac{1+4+4}{9}} = \frac{\sqrt{9}}{3} = 1$</p>
                        
                        <p>$|\vec{s}| = \sqrt{0^2 + 1^2 + 1^2} = \sqrt{2}$</p>
                        
                        <p>因此，距离为：</p>
                        $$d = \frac{|\overrightarrow{MP} \times \vec{s}|}{|\vec{s}|} = \frac{1}{\sqrt{2}} = \frac{\sqrt{2}}{2}$$
                    </div>
                </div>
            </div>
        </div>
        
        <div class="nav-buttons">
            <a href="8.3.html" class="btn prev">上一节：8.3 平面及其方程</a>
            <a href="8.5.html" class="btn next">下一节：8.5 曲面及其方程</a>
        </div>
        
        <footer>
            <p>&copy; 2025 高等数学复习系统 - 空间直线及其方程</p>
        </footer>
    </div>

    <script>
        // 页面加载动画
        function initializeAnimations() {
            const contentSections = document.querySelectorAll('.content-section');
            if (contentSections.length > 0 && typeof gsap !== 'undefined') {
                gsap.from('.content-section', {
                    duration: 0.8,
                    y: 30,
                    opacity: 0,
                    stagger: 0.2,
                    ease: "power2.out"
                });
            }
            
            const lineCards = document.querySelectorAll('.line-card');
            if (lineCards.length > 0 && typeof gsap !== 'undefined') {
                gsap.from('.line-card', {
                    duration: 0.6,
                    scale: 0.8,
                    opacity: 0,
                    stagger: 0.1,
                    delay: 1,
                    ease: "back.out(1.7)"
                });
            }
            
            const practiceProblems = document.querySelectorAll('.practice-problem');
            if (practiceProblems.length > 0 && typeof gsap !== 'undefined') {
                gsap.from('.practice-problem', {
                    duration: 0.6,
                    x: -30,
                    opacity: 0,
                    stagger: 0.2,
                    delay: 1.5,
                    ease: "power2.out"
                });
            }
        }
        
        // 滚动触发动画
        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && typeof gsap !== 'undefined') {
                        gsap.from(entry.target.querySelectorAll('.definition, .theorem, .example'), {
                            duration: 0.6,
                            y: 20,
                            opacity: 0,
                            stagger: 0.1,
                            ease: "power2.out"
                        });
                    }
                });
            }, { threshold: 0.2 });
            
            document.querySelectorAll('.content-section').forEach(section => {
                observer.observe(section);
            });
        }
        
        // 页面加载时初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 延迟执行以确保DOM完全加载
            setTimeout(() => {
                initializeAnimations();
                setupScrollAnimations();
            }, 500);
            
            // MathJax 加载完成后的回调
            if (typeof MathJax !== 'undefined') {
                MathJax.startup.promise.then(() => {
                    console.log('MathJax loaded successfully');
                });
            }
        });
    </script>
</body>
</html>
